= Hot Deploy

Jmix поддерживает технологию Hot Deploy, которая позволяет отображать сделанные в проекте изменения в работающем приложении без необходимости перезапускать сервер.

Hot deploy работает для следующих классов и ресурсов:

* Дескрипторы и контроллеры экранов;
* Классы, используемые контроллерами экранов через создание экземпляров или статические методы;
* Локализованные сообщения;
* Меню;
* Фетч-планы;
* Ресурсные роли;
* Роли уровня строк.

Hot deploy не работает для классов сущностей и бинов Spring.

Принцип работы Hot deploy следующий:

* Studio обнаруживает измененные файлы и
** если это файл ресурсов, Studio копирует его в каталог `.jmix/conf`;
** если это файл Java или Kotlin, Studio компилирует его и копирует файл класса в каталог `build/classes` проекта.
* Когда приложение открывает экран, фреймворк загружает новые классы и ресурсы из каталогов перечисленных выше.

Расположение каталога hot deploy ресурсов определяется свойством приложения xref:ROOT:app-properties.adoc#jmix.core.conf-dir[jmix.core.conf-dir]. Этот каталог очищается при запуске приложения действием *Before launch*, заданным в xref:studio:project.adoc#run-debug-configuration-settings[параметрах конфигурации Run/Debug].

Кроме того, Studio посылает приложению специальные сигналы, для того чтобы заставить его очистить кэши и перезагрузить измененные ресурсы. Это кэш локализованных сообщений и конфигурации представлений, зарегистрированных экранов и меню. Сигналы реализованы с помощью триггер-файлов, создаваемых в каталоге `.jmix/temp/triggers` (расположение может быть изменено с помощью свойства xref:ROOT:app-properties.adoc#jmix.core.temp-dir[jmix.core.temp-dir]).

NOTE: После сохранения изменений в Studio может потребоваться 2-3 секунды для того, чтобы приложение перезагрузило ресурсы и классы. Если после открытия экрана вы не увидели ожидаемых изменений, попробуйте обновить страницу браузера еще раз.

[[indicator]]
== Hot Deploy Indicator

Studio displays a status indicator icon in the top-right corner of hot-deployable files. This icon, which appears on files such as view controllers, view descriptors, message bundles, roles, and other similar resources, provides at-a-glance feedback on the current hot deployment status for that specific file.

The primary purpose of this indicator is to continuously inform developers about the propagation of their latest source code changes to the running application. The icon's appearance changes to reflect whether the changes have been successfully deployed, are in the process of being deployed, or if any errors occurred during the deployment process, providing immediate visual feedback on the state of hot deployment.

Let's examine the different states of the hot deploy indicator.

. *Application not running*:
+
image::hot-deploy-ind-1.png[align="center",width="760"]
+
The indicator displays with a gray outline. Clicking the indicator will trigger a pop-up message with an option to start the application.

. *Application running, no file changes*:
+
image::hot-deploy-ind-2.png[align="center",width="760"]
+
The indicator displays with a green outline. Clicking the indicator will trigger a pop-up message indicating that the file has not yet been hot-deployed.

. *File modified, hot deployment available*: The indicator turns solid green. Clicking the indicator will trigger a pop-up message with an option to initiate hot deployment.
+
image::hot-deploy-ind-3.png[align="center",width="760"]
+
After hot deployment is initiated, the indicator remains solid green, and the pop-up message displays the time of the last hot deployment:
+
image::hot-deploy-ind-4.png[align="center",width="333"]

. *Hot deployment failed*: The indicator turns red, indicating that hot deployment was unsuccessful due to a compilation error or other issue.
+
image::hot-deploy-ind-5.png[align="center",width="760"]