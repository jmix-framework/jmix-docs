[[installation]]
= Установка Studio

[[instructions]]
== Инструкция по установке

Jmix Studio реализована как плагин для IntelliJ IDEA. См. инструкции по установке стабильных версий в разделе xref:ROOT:setup.adoc#studio[Установка Jmix Studio].

[[working-behind-proxy]]
== Работа через прокси

Чтобы настроить в Jmix Studio доступ в интернет через прокси-сервер, вам необходимо настроить параметры IntelliJ IDEA и Gradle. Настройка параметров Git необязательна.

[[configure-idea-proxy-settings]]
=== Настройка параметров прокси в IDEA

. Откройте диалоговое окно *Settings* из главного меню: *File → Settings*.
. Выберите раздел *Appearance & Behavior → System Settings → HTTP Proxy*.
. Установите нужные параметры и нажмите кнопку *Check connection*, чтобы проверить их.
+
image::idea-proxy.png[align="center"]

Для получения дополнительной информации перейдите к документации https://www.jetbrains.com/help/idea/settings-http-proxy.html[IntelliJ IDEA^].

[[configure-gradle-proxy-settings]]
=== Настройка параметров прокси в Gradle

. Найдите файл `~/.gradle/gradle.properties` в домашнем каталоге пользователя.
. Отредактируйте этот файл и добавьте необходимые параметры прокси-сервера, как описано в https://docs.gradle.org/current/userguide/build_environment.html#sec:accessing_the_web_via_a_proxy[документации Gradle^]:
+
[source,properties]
----
systemProp.http.proxyHost=192.168.57.1
systemProp.http.proxyPort=3128
systemProp.http.proxyUser=developer
systemProp.http.proxyPassword=Df887..33
systemProp.http.nonProxyHosts=*.nonproxyrepos.com|localhost
----

[[configure-git-proxy-settings]]
=== Настройка параметров прокси Git

Если вы хотите загружать проекты из, например, репозиториев GitHub, настройте также параметры прокси для инструмента управления версиями Git.

Выполните команду:

[source,bash]
----
git config --global http.proxy http://proxyUsername:proxyPassword@proxy.server.com:port
----

Для более подробной информации перейдите к https://git-scm.com/docs/git-config#Documentation/git-config.txt-httpproxy[документации Git^].

[[offline]]
== Работа в автономном режиме

Вы можете разрабатывать проекты с помощью Studio без подключения к Интернету. В этом случае уже должны быть загружены все зависимости проекта, то есть он должен был быть открыт и собран данным экземпляром Studio. Некоторые функции Studio недоступны в автономном режиме, например, вы не сможете изменить версию фреймворка или просмотреть магазин дополнений Jmix.

Чтобы начать работать в автономном режиме, откройте окно инструментов Gradle в правой части интерфейса IDE и нажмите кнопку *Toggle Offline Mode*:

image::idea-offline.png[align="center"]

В автономном режиме при выполнении всех задач сборки проекта Gradle будет использовать зависимости из кэша. Gradle не будет пытаться получить доступ к сети для устранения зависимостей. Если требуемые зависимости отсутствуют в кэше, выполнение сборки завершится неудачно.

[[non-standard-builds]]
== Нестандартные сборки Studio

Иногда вам может потребоваться использовать одну из нестандартных сборок Studio в вашей IDE, например, чтобы получить ранний доступ к новым функциям Studio. Использование нестандартной сборки Studio требует установки определенной версии плагина в IntelliJ IDEA.

NOTE: Обратите внимание, что нестандартные сборки Studio имеют те же требования к подписке, что и стабильные версии.

[[nightly]]
=== Ночные сборки

Ночные сборки Studio публикуются каждую ночь в рамках непрерывного процесса интеграции. Эти сборки содержат последние изменения, внесенные командой Jmix Studio. Вы можете переключиться на ночные сборки, если хотите получить новейшие функции, улучшения и поддержку для будущих версий фреймворка Jmix.

CAUTION: Ночные сборки содержат изменения, которые еще не прошли через процесс обеспечения качества. Поэтому они могут содержать серьезные функциональные дефекты.

Чтобы использовать ночные сборки, вам необходимо выполнить следующие действия:

. Откройте диалоговое окно плагинов в *Main Menu → File → Settings → Plugins*.
. Нажмите на иконку шестеренки и выберите *Manage Plugin Repositories*.
+
image::idea-gear.png[align="center"]
+
. Нажмите `+` и введите следующий путь: `\https://plugins.jetbrains.com/plugins/jmix_nightly/list`
+
image::idea-add.png[align="center"]
+
. Вы сразу увидите, что плагин Jmix запрашивает обновление до версии NIGHTLY.
+
image::jmix-update.png[align="center"]
+
. Нажмите *Update* и перезапустите IDE.

Поскольку новые ночные сборки публикуются каждую ночь, вам необходимо ежедневно обновлять плагин Jmix, чтобы получать последние изменения.

Если вам нужно вернуться к стабильной версии плагина, выполните следующие действия:

. Откройте диалоговое окно плагинов в *Main Menu → File → Settings → Plugins*.
. Перейдите на вкладку *Installed*.
. Удалите плагин Jmix.
. Нажмите на иконку шестеренки и выберите *Manage Plugin Repositories*.
. Удалите репозиторий "nightly" из списка.
. Установите плагин Jmix снова, он поступит с канала стабильных плагинов.

[[from-disk]]
=== Установка плагина с диска

Вы можете загрузить любую версию плагина Studio с сайта репозитория плагинов JetBrains или с сайта Jmix и установить его в IntelliJ IDEA.

[[download-plugin-from-jetbrains]]
==== Загрузка файла плагина с сайта JetBrains

. Откройте {jmix-plugin-site}[страницу плагина Jmix^] в репозитории плагинов JetBrains.
. Выберите канал, из которого хотите загрузить сборку: Стабильный или Ночной.
. Найдите нужную сборку в списке *Version History* и загрузите ее.
+
image::jmix-site.png[align="center"]

[[download-plugin-from-jmix]]
==== Загрузка файла плагина с сайта Jmix

. Откройте страницу https://www.jmix.ru/studio-resources[^].
. Выберите и загрузите файл `jmix-studio-{page-component-display-version}.P-XYZ.zip`. В данном имени:
* `P` - патч-версия плагина. Выбирайте последний доступный патч.
* `XYZ` - последние 3 цифры версии IntelliJ IDEA. Например, если у вас установлена IDEA 2024.3, то выбирайте файл плагина, оканчивающийся на `-243`.

[[install-plugin-from-file]]
==== Установка плагина в IDE

Выполните следующие действия:

. Откройте диалоговое окно *Main Menu → File → Settings → Plugins* в IntelliJ IDEA.
. Нажмите на иконку шестеренки и выберите *Install Plugin from Disk*.
+
image::install-from-disk.png[align="center"]
+
. Выберите загруженный ZIP-файл в открывшемся диалоге и нажмите *OK*.
. Перезапустите IDE.
