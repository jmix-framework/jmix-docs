= 1. Разработка приложения

В этой главе вы узнаете, как создать и настроить следующие компоненты для вашего приложения:

* Перечисление `Room`. Определите перечисление для представления доступных комнат в вашей системе.
* Сущность `Booking`. Создайте сущность `Booking` для управления бронированиями.
* CRUD-экраны для бронирований. Разработайте CRUD-экраны, чтобы пользователи могли взаимодействовать с сущностью `Booking`.

[[create-room-enum]]
== Создание перечисления Room

Для начала вам потребуется создать перечисление `Room`, состоящее из следующих значений:

* `Senior`
* `Junior`
* `Middle`

Подробные инструкции по созданию перечислений можно найти в разделе xref:tutorial:enumerations.adoc[Использование перечислений] руководства.

image::room-enum.png[align="center", width="458"]

[[create-booking-entity]]
== Создание сущности Booking

Далее создайте сущность `Booking`. Подробные инструкции по созданию сущностей можно найти в разделе xref:tutorial:simple-crud.adoc[Простой CRUD] руководства.

Сущность `Booking` имеет следующие атрибуты:

* `title` с типом `String`. Описательное название для бронирования. Установите флажок *Mandatory*.
* `room` - комната, выбранная для бронирования (используется перечисление `Room`). Установите флажок *Mandatory*.
* `startDate` и `endDate` с типом `DateTime`: дата и время начала и окончания бронирования. Установите флажок *Mandatory*.
* `creator` - пользователь, создавший бронирование (связь many-to-one с сущностью `User`). Установите флажок *Mandatory*.

[[create-crud]]
== Создание CRUD-экранов

Создайте экран списка и деталей сущности `Booking`. Подробные шаги по созданию экранов можно найти в разделе xref:tutorial:simple-crud.adoc[Создание CRUD-экранов] руководства. На шаге *Entity list view fetch plan* добавьте атрибут `creator` в выборку.

Следуйте предложенным значениям на каждом шаге мастера создания представлений.

[[run-app]]
== Запуск приложения

После создания сущности и CRUD-экранов для нее вы можете запустить приложение, чтобы увидеть новую функциональность в действии.

Подробные шаги по запуску приложения можно найти в разделе xref:tutorial:project-setup.adoc#run-app[Запуск приложения из IDE] руководства.

Нажмите кнопку *Debug* (image:start-debugger.svg[]) на главной панели инструментов.

Studio отобразит предупреждение о хранилище данных и непримененных файлах журнала изменений:

image::changelog.png[align="center", width="750"]

Нажмите *Execute and proceed*.

Затем Studio проверяет разницу между моделью данных проекта и схемой базы данных. Поскольку вы создали новую сущность, Studio генерирует Liquibase changelog для соответствующих изменений в базе данных (создание таблицы `BOOKING`):

image::booking-changelog.png[align="center", width="1036"]

Нажмите *Save and run*.

Когда приложение будет готово, откройте `++http://localhost:8080++` в вашем веб-браузере и войдите в приложение, используя учетные данные `admin` / `admin`.

Выберите пункт *Bookings* в меню *Application*. Вы увидите экран `Booking.list`.

[[summary]]
== Резюме

В этом разделе вы научились реализовывать функцию бронирования комнат в вашем приложении. Вы получили практический опыт в создании и настройке перечисления `Room`, определении сущности `Booking` с ключевыми атрибутами и создании CRUD-экранов, позволяющих пользователям эффективно управлять бронированием комнат. Вы также узнали, как запустить приложение, применить изменения в базе данных и получить доступ к новой функции бронирования через меню приложения.