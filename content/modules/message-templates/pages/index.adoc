= Message Templates

Дополнение Message Templates предоставляет гибкий и эффективный способ управления и использования повторно используемых шаблонов сообщений в вашем приложении Jmix. Он позволяет разработчикам определять шаблоны с плейсхолдерами, которые могут быть динамически заполнены данными во время выполнения. Это дополнение упрощает создание персонализированных сообщений, таких как электронные письма или уведомления в приложении.

[[overview]]
== Обзор

Message Templates дает возможность легко создавать и настраивать шаблоны сообщений, комбинируя статический текст с изменяющимися данными. Визуальный HTML-дизайнер с множеством HTML-элементов упрощает создание шаблонов. Этот редактор предоставляет все необходимые инструменты для быстрой разработки красивых и профессиональных сообщений.

image::add-on-overview.png[align="center", width="1210"]

[[message-template-engine]]
=== Генератор шаблонов сообщений

Для генерации сообщений используется широко распространённый шаблонизатор https://freemarker.apache.org/[Apache FreeMarker^]. Система поддерживает создание шаблонов в формате HTML и простого текста, что обеспечивает максимальную гибкость при работе с сообщениями.

[[html-template-editor]]
=== Редактор HTML-шаблонов

Для создания HTML-шаблонов интегрирован мощный веб-компонент https://github.com/GrapesJS/grapesjs[GrapesJS^], предоставляющий удобный визуальный редактор. Этот редактор позволяет конструировать шаблоны, используя библиотеку готовых HTML-блоков. Вы можете легко разрабатывать свои шаблоны, просто перетаскивая эти блоки из палитры на холст, что значительно упрощает процесс создания шаблонов.

[[features]]
== Особенности

* *Централизованное управление шаблонами*: Храните все ваши шаблоны сообщений в одном месте - это обеспечивает удобный доступ, редактирование и обслуживание.
* *Типы шаблонов*: Дополнение поддерживает шаблоны как в формате HTML, так и в виде простого текста, предоставляя гибкость в форматировании сообщений.
* *Интеграция с Apache FreeMarker*: Используется надёжный шаблонизатор https://freemarker.apache.org/[Apache FreeMarker^], позволяющий применять в шаблонах переменные, выражения, циклы, условную логику и другие мощные функции. Это означает, что вы можете создавать динамические сообщения на основе данных.
* *Визуальный редактор HTML-шаблонов*: Встроенный визуальный редактор на базе https://github.com/GrapesJS/grapesjs[GrapesJS^] упрощает создание HTML-шаблонов благодаря интерфейсу перетаскивания, позволяя конструировать шаблоны из библиотеки готовых блоков. Не требуется никаких специальных навыков программирования на HTML.
* *Повторное использование*: Создайте шаблон один раз и используйте его в разных частях вашего приложения.
* *Параметризация*: Шаблоны могут использовать параметры, передаваемые в процессе генерации сообщений, обеспечивая персонализацию и создание контента на основе данных.

[[additionally]]
== Дополнительно

Дополнение *Message Templates* поддерживает интеграцию с другими дополнениями Jmix:

* Дополнение xref:multitenancy:index.adoc[Multitenancy]. При одновременной установке дополнений *Multitenancy* и *Message Templates*, шаблоны, блоки и группы автоматически разделяются по _тенантам_. Это гарантирует, что каждый тенант имеет доступ к собственному набору шаблонов, обеспечивая изоляцию и безопасность данных.

* Дополнение xref:email:index.adoc[Email Sending]. Установив дополнение *Email Sending*, вы получаете возможность отправлять электронные письма, сгенерированные на основе шаблонов сообщений. Эта интеграция позволяет создавать динамические письма на основе шаблонов и отправлять их прямо из вашего приложения.

* Дополнение xref:notifications:index.adoc[Notifications]. Установка дополнения *Notifications* расширяет функциональность вашего приложения, позволяя использовать готовые шаблоны сообщений при создании уведомлений. Эта интеграция упрощает процесс генерации единообразных и персонализированных уведомлений для пользователей. Подробную информацию об интеграции с дополнением *Notifications* смотрите в разделе xref:message-templates:notification-integration.adoc[Интеграция с уведомлениями].

[[installation]]
== Установка

Для автоматической установки дополнения Charts через Jmix Marketplace следуйте инструкциям в разделе xref:ROOT:add-ons.adoc#installation[Дополнения].

Для ручной установки добавьте следующую зависимость в файл `build.gradle` вашего проекта:

[source, groovy, indent=0]
----
implementation 'io.jmix.messagetemplates:jmix-messagetemplates-flowui-starter'
implementation 'io.jmix.messagetemplates:jmix-messagetemplates-starter'
----