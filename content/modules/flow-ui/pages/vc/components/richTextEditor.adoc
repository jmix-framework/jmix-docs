= richTextEditor 富文本编辑器
:page-aliases: vcl/components/rich-text-area.adoc

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.io/ui-samples/sample/rich-text-editor-simple" class="live-demo-btn" target="_blank">在线示例</a>
</div>
++++

用于输入丰富格式文本的区域。支持多种格式选项，例如粗体、斜体、下划线、文本对齐以及添加链接、图像、代码块等，使文本具有更好的展示效果和结构。

* XML 元素：`richTextEditor`

* Java 类：`JmixRichTextEditor`

== 基本用法

在视图的 XML 中添加组件：

[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/component/richtexteditor/rich-text-editor-view.xml[tags=basics]
----

用户可以输入内容并通过顶部工具栏的操作对内容进行编辑。

image::visual-components/components/rich-text-editor.png[align="center" width="953"]

除非设置为固定大小，否则组件将自动调整高度和宽度以适应用户输入的内容。

== 工具栏的操作

该组件在工具栏中提供了一组可用于对文本进行格式化和编辑的操作。

image::visual-components/components/rich-text-editor-toolbar.png[align="center" width="950"]

. *文本格式化* 对所选文本应用粗体、斜体、下划线或删除线。
. *标题级别*
. *上下角标* 
. *有序或无序列表*
. *对齐* 将所选文本向左、居中、右对齐或两端对齐。
. *附件* 插入图片或嵌入链接。
. *区块* 添加引用或代码块。
. *清除格式* 点击清除所有格式。

== HTML 输入

除了用户输入之外，还可以以编程方式将文本输入到组件中。可以是纯文本，或者是标准 HTML 标记格式化的文本。

[source,java,indent=0]
----
include::example$/onboarding/src/main/java/com/company/onboarding/view/component/richtexteditor/RichTextEditorView.java[tags=oninit;html;richtexteditor]
----

image::visual-components/components/rich-text-editor-html.png[align="center" width="953"]

== 数据绑定

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.io/ui-samples/sample/rich-text-editor-dataaware" class="live-demo-btn" target="_blank">在线示例</a>
</div>
++++

该组件可以显示实体属性的内容，可以是纯文本，或者是使用标准 HTML 标记格式化的文本。

如需将 `richTextEditor` 绑定到实体属性，请执行以下操作：

. 设置 xref:vc/common-attributes.adoc#dataContainer[dataContainer] 属性为数据容器的名称。
. 设置 xref:vc/common-attributes.adoc#property[property] 属性值为实体的某个属性名称。

== 样式版本

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.io/ui-samples/sample/rich-text-editor-theme-variant" class="live-demo-btn" target="_blank">在线示例</a>
</div>
++++

组件的外观可使用 xref:vc/common-attributes.adoc#themeNames[themeNames] 属性进行自定义，支持两个选项：

.`compact`
[%collapsible%open]
====
image::visual-components/components/rich-text-editor-compact.png[align="center" width="761"]
====

.`no-border`
[%collapsible%open]
====
image::visual-components/components/rich-text-editor-no-border.png[align="center" width="953"]
====

TIP: 同时使用这两个主题可以得到一个没有边框的紧凑型编辑器。

== XML 属性

xref:vc/common-attributes.adoc#id[id] -
xref:vc/common-attributes.adoc#alignSelf[alignSelf] -
xref:vc/common-attributes.adoc#ariaLabel[ariaLabel] -
xref:vc/common-attributes.adoc#ariaLabelledBy[ariaLabelledBy] -
xref:vc/common-attributes.adoc#classNames[classNames] -
xref:vc/common-attributes.adoc#colspan[colspan] -
xref:vc/common-attributes.adoc#css[css] -
xref:vc/common-attributes.adoc#dataContainer[dataContainer] -
xref:vc/common-attributes.adoc#enabled[enabled] -
xref:vc/common-attributes.adoc#height[height] -
xref:vc/common-attributes.adoc#helperText[helperText] -
xref:vc/common-attributes.adoc#label[label] -
xref:vc/common-attributes.adoc#maxHeight[maxHeight] -
xref:vc/common-attributes.adoc#maxWidth[maxWidth] -
xref:vc/common-attributes.adoc#minHeight[minHeight] -
xref:vc/common-attributes.adoc#minWidth[minWidth] -
xref:vc/common-attributes.adoc#property[property] -
xref:vc/common-attributes.adoc#readOnly[readOnly] -
xref:vc/common-attributes.adoc#themeNames[themeNames] -
xref:vc/common-attributes.adoc#valueChangeMode[valueChangeMode] -
xref:vc/common-attributes.adoc#visible[visible] -
xref:vc/common-attributes.adoc#width[width]

== 事件和处理器

xref:vc/common-handlers.adoc#AttachEvent[AttachEvent] -
xref:vc/common-handlers.adoc#DetachEvent[DetachEvent] -
xref:vc/common-handlers.adoc#ComponentValueChangeEvent[ComponentValueChangeEvent] -
xref:vc/common-handlers.adoc#CompositionStartEvent[CompositionStartEvent] -
xref:vc/common-handlers.adoc#CompositionUpdateEvent[CompositionUpdateEvent] -
xref:vc/common-handlers.adoc#CompositionEndEvent[CompositionEndEvent] -
xref:vc/common-handlers.adoc#KeyDownEvent[KeyDownEvent] -
xref:vc/common-handlers.adoc#KeyPressEvent[KeyPressEvent] -
xref:vc/common-handlers.adoc#InputEvent[InputEvent]

include::../handler-generation-tip.adoc[]
