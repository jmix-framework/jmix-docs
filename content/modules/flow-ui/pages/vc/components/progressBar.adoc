= progressBar 进度条

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.io/ui-samples/sample/progress-bar-simple" class="live-demo-btn" target="_blank">在线示例</a>
</div>
++++

`progressBar` 用于展示一个进程的完成情况。进度可以是确定的（即，能确定进度的百分比）或不定的。用 `progressBar` 显示需要长时间处理的任务的进度。

* XML 元素：`progressBar`

* Java 类：`ProgressBar`

[[determinate-progress]]
== 可确定的进度

默认情况下，`progressBar` 以 *可确定* 的模式展示进度。这种模式下可以给用户实际完成的进度情况，并能推断还需多少时间才能完成，也就是说，此时的进度指示器会根据从进程中获取的数值变化。

下面是展示 xref:background-tasks.adoc[后台任务] 进度的示例：

[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/component/progressbar/progress-bar-view.xml[tags=progress-bar-determinate]
----

[source,java,indent=0]
----
include::example$/onboarding/src/main/java/com/company/onboarding/view/component/progressbar/ProgressBarView.java[tags=background-tasks]
----

<1> 一些比较耗时的任务
<2> 设定组件的值，值必须是 `double` 类型，且在 `0.0` 和 `1.0` 之间

image::visual-components/components/progress-bar-determinate.png[align="center", width="300"]

[[indeterminate-progress]]
== 非确定进度

`progressBar` 的非确定进度模式会展示一个循环播放的进度条，而非一个特定的进度值。这种模式可以用来展示无法确定进度的任务。

如需使用该模式，设置 `indeterminate` 属性为 `true`。

[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/component/progressbar/progress-bar-view.xml[tags=progress-bar-indeterminate]
----

image::visual-components/components/progress-bar-indeterminate.gif[align="center", width="300"]

== XML 属性

xref:vc/common-attributes.adoc#id[id] -
xref:vc/common-attributes.adoc#classNames[classNames] -
xref:vc/common-attributes.adoc#colspan[colspan] -
xref:vc/common-attributes.adoc#height[height] -
<<indeterminate, indeterminate>> -
<<max,max>> -
xref:vc/common-attributes.adoc#maxHeight[maxHeight] -
xref:vc/common-attributes.adoc#maxWidth[maxWidth] -
<<min,min>> -
xref:vc/common-attributes.adoc#minHeight[minHeight] -
xref:vc/common-attributes.adoc#minWidth[minWidth] -
<<themeNames, themeNames>> -
<<value,value>> -
xref:vc/common-attributes.adoc#visible[visible] -
xref:vc/common-attributes.adoc#width[width]

[[indeterminate]]
=== indeterminate

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://vaadin.com/docs/latest/components/progress-bar/#modes" class="vaadin-docs-btn" target="_blank">Vaadin</a>
</div>
++++

启用或禁用 <<indeterminate-progress,非确定进度>> 模式。

[[max]]
=== max

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://vaadin.com/docs/latest/components/progress-bar/#bounds-and-initial-value" class="vaadin-docs-btn" target="_blank">Vaadin</a>
</div>
++++

设置进度的最大值。达到该值时，表示进程已经完成。默认值为 `1.0`。

[[min]]
=== min

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://vaadin.com/docs/latest/components/progress-bar/#bounds-and-initial-value" class="vaadin-docs-btn" target="_blank">Vaadin</a>
</div>
++++

设置进度的最小值，表示进程还未开始。默认值为 `0.0`。

[[themeNames]]
=== themeNames

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://vaadin.com/docs/latest/components/progress-bar/#theme-variants" class="vaadin-docs-btn" target="_blank">Vaadin</a>
</div>
++++

设置不同的主题，这样可以改变组件的颜色，更加醒目。

image::visual-components/components/progress-bar-themenames.png[align="center", width="300"]

* `contrast` - 使用对比度更高的颜色。
* `error` - 错误状态。
* `success` - 成功状态。

[[value]]
=== value

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://vaadin.com/docs/latest/components/progress-bar/#bounds-and-initial-value" class="vaadin-docs-btn" target="_blank">Vaadin</a>
</div>
++++

定义 `progressBar` 的值。值必须在默认的 `0.0` 和 `1.0` 或自定义的 `min` 和 `max` 之间。

如果值无法解析成 `double`，会显示错误消息。

[[handlers]]
== 事件和处理器

xref:vc/common-handlers.adoc#AttachEvent[AttachEvent] -
xref:vc/common-handlers.adoc#DetachEvent[DetachEvent]

include::../handler-generation-tip.adoc[]

== 参考

{vaadin-docs}/components/progress-bar[Vaadin 文档^]。
