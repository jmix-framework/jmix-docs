= virtualList 列表

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.io/ui-samples/sample/virtual-list-simple" class="live-demo-btn" target="_blank">在线示例</a>
</div>
++++

`virtualList` 组件用于展示具有复杂内容的条目列表。一次只渲染所有条目中可见的那部分。

* XML 元素：`virtualList`

* Java 类：`JmixVirtualList`

== 基本用法

`virtualList` 可以与 xref:flow-ui:data/data-containers.adoc[数据容器] 关联。默认情况下，条目仅展示实体的 xref:data-model:entities.adoc#instance-name[实例名称]。使用 <<Renderer,renderer>> 处理方法可以自定义显示内容。

image::visual-components/components/virtual-list-basics.png[align="center", width="542"]

[[fragment-renderer]]
或者，可以使用内部的 `fragmentRenderer` 元素来渲染条目。有关详细信息，请参阅 xref:flow-ui:vc/miscellaneous/renderers.adoc#fragment-renderer[Fragment 渲染器] 部分。

下面是用 `virtualList` 展示列表视图的示例：

[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/component/virtuallist/virtual-list-view.xml[tags=data;layout;virtualList]
----

[source,java,indent=0]
----
include::example$/onboarding/src/main/java/com/company/onboarding/view/component/virtuallist/VirtualListView.java[tags=uiComponents;renderer]
----

`virtualList` 中的条目可以通过键盘进行选择或遍历。标准的 xref:flow-ui:actions/list-actions.adoc[列表组件操作] 不能用于 `virtualList`。如需使用 CRUD 操作的话，可以自定义。

[[inline-editor]]
== 行内编辑

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.io/ui-samples/sample/virtual-list-inline-editor" class="live-demo-btn" target="_blank">在线示例</a>
</div>
++++

可以用 `virtualList` 构建一个行内编辑器。参考 *UI Samples* 中的示例。

== XML 属性

xref:vc/common-attributes.adoc#id[id] -
xref:vc/common-attributes.adoc#alignSelf[alignSelf] -
xref:vc/common-attributes.adoc#classNames[classNames] -
xref:vc/common-attributes.adoc#colspan[colspan] -
xref:vc/common-attributes.adoc#css[css] -
xref:vc/common-attributes.adoc#enabled[enabled] -
xref:vc/common-attributes.adoc#focusShortcut[focusShortcut] -
xref:vc/common-attributes.adoc#height[height] -
<<itemsContainer,itemsContainer>> -
<<itemsEnum,itemsEnum>> -
xref:vc/common-attributes.adoc#maxHeight[maxHeight] -
xref:vc/common-attributes.adoc#maxWidth[maxWidth] -
xref:vc/common-attributes.adoc#minHeight[minHeight] -
xref:vc/common-attributes.adoc#minWidth[minWidth] -
xref:vc/common-attributes.adoc#tabIndex[tabIndex] -
xref:vc/common-attributes.adoc#visible[visible] -
xref:vc/common-attributes.adoc#width[width]

[[itemsContainer]]
=== itemsContainer

设置包含条目的数据容器名称。组件会自动展示实体的实例名称。

[[itemsEnum]]
=== itemsEnum

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.io/ui-samples/sample/virtual-list-custom-items" class="live-demo-btn" target="_blank">在线示例</a>
</div>
++++

设置用于创建条目的 xref:data-model:enumerations.adoc[枚举] 类。

== 事件和处理器

xref:vc/common-handlers.adoc#AttachEvent[AttachEvent] -
xref:vc/common-handlers.adoc#BlurEvent[BlurEvent] -
xref:vc/common-handlers.adoc#DetachEvent[DetachEvent] -
xref:vc/common-handlers.adoc#FocusEvent[FocusEvent] -
<<Renderer,Renderer>> -
<<ValueProvider,ValueProvider>>

include::../handler-generation-tip.adoc[]

[[Renderer]]
=== 渲染器

列表条目的渲染器只能通过 Java 代码在视图控制器中设置。

可以用 `setRenderer()` 方法或 `@Supply` 注解设置。

* 使用 `@Supply` 注解的示例：
+
[source,java,indent=0]
----
include::example$/onboarding/src/main/java/com/company/onboarding/view/component/virtuallist/VirtualListView.java[tags=supply-renderer]
----

* 使用 `setRenderer()` 方法的示例：
+
[source,java,indent=0]
----
include::example$/onboarding/src/main/java/com/company/onboarding/view/component/virtuallist/VirtualListView.java[tags=onInit]
----

[[ValueProvider]]
=== ValueProvider

如果只需展示纯文本内容，可以用 `ValueProvider` 设置渲染器。

== 参考

{vaadin-docs}/components/virtual-list[Vaadin 文档^]
