= listMenu 菜单列表
:page-aliases: vcl/components/side-menu.adoc

`listMenu` 是用于展示垂直可展开菜单树形结构的组件。
[cols="1h,6", grid=none]
|===
|XML 元素
|`listMenu`
|Java 类
|`JmixListMenu`
|XML 属性
|xref:vc/common-attributes.adoc#id[id] -
xref:vc/common-attributes.adoc#alignSelf[alignSelf] -
xref:vc/common-attributes.adoc#classNames[classNames] -
xref:vc/common-attributes.adoc#colspan[colspan] -
xref:vc/common-attributes.adoc#css[css] -
xref:vc/common-attributes.adoc#height[height] -
<<loadMenuConfig,loadMenuConfig>> -
xref:vc/common-attributes.adoc#maxHeight[maxHeight] -
xref:vc/common-attributes.adoc#maxWidth[maxWidth] -
xref:vc/common-attributes.adoc#minHeight[minHeight] -
xref:vc/common-attributes.adoc#minWidth[minWidth] -
<<theme-variants,themeNames>> -
xref:vc/common-attributes.adoc#visible[visible] -
xref:vc/common-attributes.adoc#width[width]
|事件和处理器
|xref:vc/common-handlers.adoc#AttachEvent[AttachEvent] -
xref:vc/common-handlers.adoc#DetachEvent[DetachEvent]
|===

== 基本用法

在 `MainView` 中，使用了 `listMenu`，以及 `drawerToggle` 和 `drawerLayout`。

通过 `listMenu` 可以自定义主视图、管理菜单项以及使用自定义样式。

与其他可视化组件一样，也可以用在任意视图中。

下面是在 XML 中使用的示例：

[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/component/listmenu/list-menu-view.xml[tags=listMenu]
----

image::visual-components/components/list-menu.png[align="center", width="185"]

通过 Java 也可以添加该组件：

[source, java, indent=0]
----
include::example$onboarding/src/main/java/com/company/onboarding/view/component/listmenu/ListMenuView.java[tags=injects;onInit;create-listMenu]
----

== 数据绑定

<<loadMenuConfig,loadMenuConfig>> 属性控制 `listMenu` 是否从 xref:flow-ui:menu-config.adoc[MenuConfig] 类加载菜单结构。默认值为 `true`，即组件会从 `menu.xml` 文件加载菜单结构。

菜单项也可以通过 `JmixListMenu` 实例以编程的方式创建，示例：

[source, java, indent=0]
----
include::example$onboarding/src/main/java/com/company/onboarding/view/main/MainView.java[tags=main-view;menu-component;init-event;!init-initialLayout;!init-onBoardingStatus;!get-menu-item]
----
<1> 创建带图标的菜单项。
<2> 创建使用 `clickHandler` 的菜单项。
<3> 创建一个分隔符。

[[badges]]
== 菜单项徽标

xref:flow-ui:ui-events.adoc#usage-example[UI 事件] 部分有如何设置菜单项徽标的示例。

[[theme-variants]]
== 样式版本

使用 xref:vc/common-attributes.adoc#themeNames[themeNames] 属性可以设置预定义的 `listMenu` 样式。

*收放标记位置*

在 `listMenu` 组件使用 `themeNames="toggle-reverse"` 时，菜单展开/收缩状态的标记会移到父节点的右侧。

image::visual-components/components/list-menu-toggle-reverse.png[align="center", width="168"]

== XML 属性

在 Jmix 中，所有组件都有一些作用一致的 xref:vc/common-attributes.adoc[通用属性]。
下面是 `listMenu` 的特殊属性：

[cols="1h,5,1", grid=rows, frame=none]
|===
|*名称*
|*描述*
|*默认值*
|[[loadMenuConfig]]loadMenuConfig
|`loadMenuConfig` 属性控制是否从 xref:flow-ui:menu-config.adoc[菜单配置] 加载菜单结构。默认值为 `true`，即组件会从 `MenuConfig` 文件加载菜单结构。如果需要使用其他的菜单 provider，需要先设置该属性为 `false`。
|`true`
|===
