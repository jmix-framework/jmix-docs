= listMenu
:page-aliases: vcl/components/side-menu.adoc

`listMenu` - это компонент для отображения вертикального меню с выпадающими подменю, которые можно сворачивать.
[cols="1h,6", grid=none]
|===
|XML-элемент
|`listMenu`
|Java-класс
|`JmixListMenu`
|Атрибуты
|xref:vc/common-attributes.adoc#id[id] -
xref:vc/common-attributes.adoc#alignSelf[alignSelf] -
xref:vc/common-attributes.adoc#classNames[classNames] -
xref:vc/common-attributes.adoc#colspan[colspan] -
xref:vc/common-attributes.adoc#css[css] -
xref:vc/common-attributes.adoc#height[height] -
<<loadMenuConfig,loadMenuConfig>> -
xref:vc/common-attributes.adoc#maxHeight[maxHeight] -
xref:vc/common-attributes.adoc#maxWidth[maxWidth] -
xref:vc/common-attributes.adoc#minHeight[minHeight] -
xref:vc/common-attributes.adoc#minWidth[minWidth] -
<<theme-variants,themeNames>> -
xref:vc/common-attributes.adoc#visible[visible] -
xref:vc/common-attributes.adoc#width[width]
|Обработчики
|xref:vc/common-handlers.adoc#AttachEvent[AttachEvent] -
xref:vc/common-handlers.adoc#DetachEvent[DetachEvent]
|===

== Основы

`listMenu`, вместе с `drawerToggle` и `drawerLayout`, используется в `MainView`.

`listMenu` позволяет вам настраивать главный экран, управлять элементами меню и применять собственные стили.

Его также можно использовать в любом экране как любой другой визуальный компонент.

Чтобы добавить компонент в экран, поместите его в дескриптор XML:

[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/component/listmenu/list-menu-view.xml[tags=listMenu]
----

image::visual-components/components/list-menu.png[align="center", width="185"]

Вы также можете создать компонент и добавить его в экран в Java-контроллере:

[source, java, indent=0]
----
include::example$onboarding/src/main/java/com/company/onboarding/view/component/listmenu/ListMenuView.java[tags=injects;onInit;create-listMenu]
----

== Привязка данных

Атрибут <<loadMenuConfig,loadMenuConfig>> управляет тем, загружает ли компонент `listMenu` свою структуру из класса xref:flow-ui:menu-config.adoc[MenuConfig]. По умолчанию этот атрибут установлен в `true`, что означает, что `listMenu` будет загружать свои элементы меню из файла `menu.xml`.

Вы также можете создавать элементы меню программным образом, используя экземпляр `JmixListMenu`, например:

[source, java, indent=0]
----
include::example$onboarding/src/main/java/com/company/onboarding/view/main/MainView.java[tags=main-view;menu-component;init-event;!init-initialLayout;!init-onBoardingStatus;!get-menu-item]
----
<1> Создает новый элемент меню с иконкой.
<2> Создает новый элемент меню с обработчиком `clickHandler`.
<3> Создает новый элемент-разделитель.

[[badges]]
== Значки для элементов меню

Пример настройки значков для элементов меню вы можете найти в разделе xref:flow-ui:ui-events.adoc#usage-example[События UI].

[[theme-variants]]
== Варианты оформления

Атрибут xref:vc/common-attributes.adoc#themeNames[themeNames] позволяет вам назначить определенный стиль `listMenu` из набора предопределенных вариантов.

*Обратный порядок отображения маркера*

С настройкой `themeNames="toggle-reverse"` в компоненте `listMenu`, маркер развертывания/сворачивания будет перемещен в конец родительского элемента меню. Это означает, что иконка, показывающая, развернуты ли дочерние элементы меню или свернуты, будет расположена справа от метки родительского элемента меню.

image::visual-components/components/list-menu-toggle-reverse.png[align="center", width="168"]

== Атрибуты

В Jmix есть множество xref:vc/common-attributes.adoc[общих атрибутов], которые выполняют одну и ту же функцию для всех компонентов.

Ниже приведены атрибуты, специфичные для `listMenu`:

[cols="1h,5,1", grid=rows, frame=none]
|===
|*Название*
|*Описание*
|*Значение по умолчанию*
|[[loadMenuConfig]]loadMenuConfig
|Атрибут `loadMenuConfig` используется для управления загрузкой структуры меню из xref:flow-ui:menu-config.adoc[конфигурации меню]. По умолчанию его значение равно `true`, что означает, что компонент `listMenu` загружает свою структуру меню из `MenuConfig` по умолчанию. Если вы хотите использовать другой поставщик элементов, вы должны сначала установить атрибут `loadMenuConfig` в `false`.
|`true`
|===