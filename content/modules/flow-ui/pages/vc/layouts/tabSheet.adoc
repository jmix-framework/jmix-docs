= tabSheet 标签面板
:page-aliases: vcl/containers/tab-sheet.adoc

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.io/ui-samples/sample/tabsheet-simple" class="live-demo-btn" target="_blank">在线示例</a>
</div>
++++

一个可以创建多个包含内容的标签页的布局容器。每次只显示选中标签页的内容。

[cols="1h,6", grid=none]
|===
|XML 元素
|`tabSheet`
|Java 类
|`JmixTabSheet`
|XML 属性
|xref:vc/common-attributes.adoc#id[id] -
xref:vc/common-attributes.adoc#alignSelf[alignSelf] -
xref:vc/common-attributes.adoc#classNames[classNames] -
xref:vc/common-attributes.adoc#colspan[colspan] -
xref:vc/common-attributes.adoc#css[css] -
xref:vc/common-attributes.adoc#height[height] -
xref:vc/common-attributes.adoc#maxHeight[maxHeight] -
xref:vc/common-attributes.adoc#maxWidth[maxWidth] -
xref:vc/common-attributes.adoc#minHeight[minHeight] -
xref:vc/common-attributes.adoc#minWidth[minWidth] -
<<theme-variants, themeNames>> -
xref:vc/common-attributes.adoc#visible[visible] -
xref:vc/common-attributes.adoc#width[width]
|事件和处理器
|xref:vc/common-handlers.adoc#AttachEvent[AttachEvent] -
xref:vc/common-handlers.adoc#DetachEvent[DetachEvent] -
<<selected-change-event, SelectedChangeEvent>>
|XML 内部元素
|<<tab-element, tab>>
|===

== 基本用法

在 XML 中添加 `tabSheet` 创建该组件，内部可添加多个 <<tab-element, tab>> 元素。每个 `tab` 只能包含一个子组件。多个子组件必须通过布局组件包装，比如 xref:flow-ui:vc/layouts/vbox.adoc[]。

下面示例展示了 `tabSheet` 的基本用法：

[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/tabsheet/tabsheet-view.xml[tags=basics]
----

image::visual-components/layouts/tabsheet-basic.png[align="center", width="310"]

[[tab-element]]
== tab 元素

tab 的内容通过 `tab` 元素描述。

TIP: 如需在 Jmix Studio 中添加 `tab`，可以在视图 XML 或者 *Jmix UI* 结构面板中选择组件，然后点击 *Jmix UI* 组件属性面板的 xref:studio:view-designer.adoc#component-inspector-add-button[Add]*->Tab* 按钮。

[cols="1h,6", grid=none]
|===
|XML 元素
|`tab`
|Java 类
|`Tab`
|XML 属性
|xref:vc/common-attributes.adoc#id[id] -
xref:vc/common-attributes.adoc#ariaLabel[ariaLabel] -
xref:vc/common-attributes.adoc#ariaLabelledBy[ariaLabelledBy] -
xref:vc/common-attributes.adoc#classNames[classNames] -
xref:vc/common-attributes.adoc#colspan[colspan] -
xref:vc/common-attributes.adoc#css[css] -
xref:vc/common-attributes.adoc#enabled[enabled] -
xref:vc/common-attributes.adoc#flexGrow[flexGrow] -
xref:vc/common-attributes.adoc#label[label] -
<<lazy-loading, lazy>> -
<<theme-variants, themeNames>> -
xref:vc/common-attributes.adoc#visible[visible]
|事件和处理器
|xref:vc/common-handlers.adoc#AttachEvent[AttachEvent] -
xref:vc/common-handlers.adoc#DetachEvent[DetachEvent]
|XML 内部元素
|xref:vc/components/tooltip.adoc[tooltip]
|===

== 标签页数量

`tabSheet` 组件可以支持任何实际数量的标签页。标签页过多时，为了适配可用空间，组件会自动添加滚动按钮，确保用户可以访问所有的标签页。

image::visual-components/layouts/tabsheet-tabs-number.png[align="center", width="500"]

== 标签页状态

用户可以通过标签页状态判断哪个是目前使用的标签页，以及哪些标签页可能暂时不可用或被禁用。一个 `tab` 可以被选择、不选择或被禁用。

image::visual-components/components/tabs-states.png[align="center", width="316"]

== 自定义标签

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.io/ui-samples/sample/tabsheet-icons" class="live-demo-btn" target="_blank">在线示例</a>
</div>
++++

标签页的标签不仅可以使用纯文本，还可以通过编程的方式包含几乎任意组件。

image::visual-components/layouts/tabsheet-labels.png[align="center", width="400"]

== 徽标

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.io/ui-samples/sample/tabsheet-badges" class="live-demo-btn" target="_blank">在线示例</a>
</div>
++++

一个特别有用的场景是为标签添加动态徽标。徽标可以显示标签页内容中条目、通知或其他内容的的数量。

image::visual-components/layouts/tabsheet-badges.png[align="center", width="400"]

[[selected-change-event]]
== 标签页切换

当用户切换标签页时，会发送 `io.jmix.flowui.component.tabsheet.JmixTabSheet.SelectedChangeEvent`。可以创建事件的处理方法在用户切换标签时执行自定义代码。

下面的代码在每次切换标签页时显示一个通知：

[source,java,indent=0]
----
include::example$/onboarding/src/main/java/com/company/onboarding/view/layout/tabsheet/TabSheetView.java[tags=change-event;notify-on-switch]
----

[[lazy-tabs]]
== 延迟加载

标签页可以配置内容的延迟加载，即仅当用户选择该标签页时才会加载其内容。这样可以减少内存中的组件数量。

要启用延迟加载，请将 `tab` 元素的 `lazy` 属性设置为 '`true`：

[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/tabsheet/tabsheet-view.xml[tags=lazy-loading]
----

当视图打开时，延迟加载标签页内的组件还不存在，因此无法注入到控制器，也无法在视图生命周期事件方法中获取。只有在用户打开标签页后，才能访问这些组件。通过 <<selected-change-event, SelectedChangeEvent>> 事件的处理方法可以检测用户选择了哪个标签页，然后使用 `UiComponentUtils.getComponent()` 方法获取需要的组件。

在下面的示例中，第二个标签页设置为延迟加载，当用户选择时才加载其内容。每个标签页中的当前组件数在上方的 `span` 中显示。

image::visual-components/layouts/tabsheet-lazy.gif[align="center", width="234"]

[source,java,indent=0]
----
include::example$/onboarding/src/main/java/com/company/onboarding/view/layout/tabsheet/TabSheetView.java[tags=onInit;change-event;lazy-loading]
----

[[theme-variants]]
== 样式版本

通过 xref:vc/common-attributes.adoc#themeNames[themeNames] 属性调整组件的外观，支持 6 个不同的选项：

.`centered`
[%collapsible]
====
将标签页放置在容器或视图的中间，而不是靠左对齐：

image::visual-components/components/tabs-centered.png[align="center", width=610]
====

.`small`
[%collapsible]
====
使用小尺寸标签页：

image:visual-components/components/tabs-small.png[align="center", width=366]
====

.`minimal`
[%collapsible]
====
仅展示标签页的标签，不显示其他可视化元素

image:visual-components/components/tabs-minimal.png[align="center", width=394]
====

.`hide-scroll-buttons`
[%collapsible]
====
隐藏用于滚动标签页的按钮：

image:visual-components/components/tabs-hide-scroll-buttons.png[align="center", width=394]

====

.`equal-width-tabs`
[%collapsible]
====
每个标签页调整为等宽，并禁用滚动按钮：

image:visual-components/components/tabs-equal-width.png[align="center", width=538]
====

.`bordered`
[%collapsible]
====
为标签页和内容添加边框。

image:visual-components/layouts/tabsheet-bordered.png[align="center", width=400]
====

== 参考

{vaadin-docs}/components/tabs[Vaadin 文档^]
