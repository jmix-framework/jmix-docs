= formLayout 表单布局
:page-aliases: vcl/components/form.adoc, vcl/containers/responsive-grid-layout.adoc

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.io/ui-samples/sample/form-layout-simple" class="live-demo-btn" target="_blank">在线示例</a>
</div>
++++

`formLayout` 是一个响应式布局，内部组件按列排布。列的数量根据布局的宽度变化。

* XML 元素：`formLayout`

* Java 类：`FormLayout`

== 基本用法

默认情况下，布局内部的组件分为两列。

[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/formlayout/form-layout-view.xml[tags=basics]
----

image::visual-components/layouts/form-layout-basic-1.png[align="center", width="659"]

当布局容器的宽度变小时，会自动调整为一列。

image::visual-components/layouts/form-layout-basic-2.png[align="center", width="650"]

[[responsive-steps]]
== 响应式列数

`responsiveSteps` 元素可以根据可用空间的大小确定显示的列数。

[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/formlayout/form-layout-view.xml[tags=responsive-steps]
----

当宽度足够时，上面的布局会自动调整以使用全部的 5 个列：

image::visual-components/layouts/form-layout-columns.png[align="center", width="780"]

[[label-position]]
== 标签位置

此布局可以可以支持在内部组件的旁边放置标签。将内部组件放置于 `formItem` 元素内，设置其标签，然后配置 <<labelsPosition,labelsPosition>> 属性指定标签位置：

NOTE: `formItem` 内只能放入单一组件。

[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/formlayout/form-layout-view.xml[tags=labels-aside]
----

image::visual-components/layouts/form-layout-labels-aside.png[align="center", width="468"]

=== 响应式标签位置

在侧面显示标签的布局比在默认在组件顶部显示的布局需要更多的空间。与列排布类似，可以调整标签位置以适应可用空间。此时，不要将 <<labelsPosition,labelsPosition>> 属性配置到布局中，而是在每个 `responsiveSteps` 元素配置：

[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/formlayout/form-layout-view.xml[tags=responsive-label-position]
----

布局宽度改变时，列的数目和标签位置都会随之改变：

image::visual-components/layouts/form-layout-responsive-labels-position.gif[align="center", width="986"]

[[column-span]]
== 列展拓

用 xref:vc/common-attributes.adoc#colspan[colspan] 属性控制内部组件可以跨越的列数目。

例如，可以配置一个按钮始终占据 2 列的宽度：

[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/formlayout/form-layout-view.xml[tags=colspan]
----

image::visual-components/layouts/form-layout.png[align="center", width="659"]

[[attributes]]
== XML 属性

xref:vc/common-attributes.adoc#id[id] -
xref:vc/common-attributes.adoc#alignSelf[alignSelf] -
xref:vc/common-attributes.adoc#classNames[classNames] -
xref:vc/common-attributes.adoc#colspan[colspan] -
xref:vc/common-attributes.adoc#css[css] -
xref:vc/common-attributes.adoc#dataContainer[dataContainer] -
xref:vc/common-attributes.adoc#enabled[enabled] -
xref:vc/common-attributes.adoc#height[height] -
<<labelsPosition,labelsPosition>> -
xref:vc/common-attributes.adoc#maxHeight[maxHeight] -
xref:vc/common-attributes.adoc#maxWidth[maxWidth] -
xref:vc/common-attributes.adoc#minHeight[minHeight] -
xref:vc/common-attributes.adoc#minWidth[minWidth] -
xref:vc/common-attributes.adoc#visible[visible] -
xref:vc/common-attributes.adoc#width[width]

[[labelsPosition]]
=== labelsPosition

设置内部组件 <<label-position,标签的位置>>。

* `ASIDE` -- 标签放在组件的旁边。
* `TOP` -- 标签放在组件的上方。

[[handlers]]
== 事件和处理器

xref:vc/common-handlers.adoc#AttachEvent[AttachEvent] -
<<ClickEvent, ClickEvent>> -
xref:vc/common-handlers.adoc#DetachEvent[DetachEvent]

include::../handler-generation-tip.adoc[]

[[ClickEvent]]
=== ClickEvent

点击组件时发送 `com.vaadin.flow.component.ClickEvent` 事件。处理方法必须指定以下三种点击之一来处理具体的点击事件。

* click - 当组件被点击时发送。

* singleClick - 当点击过了一段时间后发送，以确保不是双击。

* doubleClick - 当组件被双击时发送。

== XML 内部元素

<<label-position, formItem>> - <<responsive-steps, responsiveSteps>>

== 参考

{vaadin-docs}/components/form-layout[Vaadin 文档^]
