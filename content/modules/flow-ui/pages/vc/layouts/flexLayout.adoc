= flexLayout
:page-aliases: vcl/containers/css-layout.adoc

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.ru/ui-samples/sample/flex-layout-simple" class="live-demo-btn" target="_blank">ДЕМОНСТРАЦИЯ</a>
</div>
++++

Компонент `flexLayout` - это контейнер, который реализует модель https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flexible_Box_Layout/Using_CSS_flexible_boxes[Flexbox^]. Он обеспечивает гибкий и адаптивный способ размещения и стилизации дочерних компонентов внутри контейнера с помощью CSS. `flexLayout` использует значение https://developer.mozilla.org/en-US/docs/Web/CSS/flex-direction[flex-direction^] по умолчанию и не имеет предопределенной ширины или высоты.

[cols="1h,6", grid=none]
|===
|XML-элемент
|`flexLayout`
|Java-класс
|`FlexLayout`
|Атрибуты
|xref:vc/common-attributes.adoc#id[id] -
xref:vc/common-attributes.adoc#alignItems[alignItems] -
xref:vc/common-attributes.adoc#alignSelf[alignSelf] -
xref:vc/common-attributes.adoc#classNames[classNames] -
xref:vc/common-attributes.adoc#clickShortcut[clickShortcut] -
xref:vc/common-attributes.adoc#colspan[colspan] -
<<contentAlignment,contentAlignment>> -
xref:vc/common-attributes.adoc#css[css] -
xref:vc/common-attributes.adoc#enabled[enabled] -
<<expand,expand>> -
<<flexDirection,flexDirection>> -
<<flexWrap,flexWrap>> -
xref:vc/common-attributes.adoc#height[height] -
<<justifyContent,justifyContent>> -
xref:vc/common-attributes.adoc#maxHeight[maxHeight] -
xref:vc/common-attributes.adoc#maxWidth[maxWidth] -
xref:vc/common-attributes.adoc#minHeight[minHeight] -
xref:vc/common-attributes.adoc#minWidth[minWidth] -
xref:vc/common-attributes.adoc#visible[visible] -
xref:vc/common-attributes.adoc#width[width]
|Обработчики
|xref:vc/common-handlers.adoc#AttachEvent[AttachEvent] -
<<clickListener,clickListener>> -
<<doubleClickListener,doubleClickListener>> -
<<singleClickListener,singleClickListener>> -
xref:vc/common-handlers.adoc#DetachEvent[DetachEvent]
|===

[[content-alignment]]
== Расположение содержимого

Атрибут `contentAlignment` сопоставляется с CSS-свойством https://developer.mozilla.org/en-US/docs/Web/CSS/align-content[align-content^]. Это свойство управляет выравниванием строк внутри flex-контейнера вдоль поперечной оси, когда есть дополнительное пространство. Оно работает аналогично тому, как `justify-content` выравнивает отдельные элементы вдоль главной оси.

NOTE: Это свойство влияет только на многострочные flex-контейнеры, где `flex-wrap` установлен в `wrap` или `wrap-reverse`. Однострочный flex-контейнер (т.е. где `flex-wrap` установлен в значение по умолчанию `no-wrap`) не будет затронут свойством `align-content`.

[[content-alignment-start]]
*START*

Элементы располагаются в начале контейнера.

image::visual-components/layouts/flex-layout-start.png[align="center", width="333"]

.XML code
[%collapsible]
====
[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/flexlayout/flex-layout-view.xml[tags=flexLayoutStart]
----
====

[[content-alignment-center]]
*CENTER*

Элементы располагаются по центру контейнера.

image::visual-components/layouts/flex-layout-center.png[align="center", width="330"]

.XML code
[%collapsible]
====
[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/flexlayout/flex-layout-view.xml[tags=flexLayoutCenter]
----
====

[[content-alignment-end]]
*END*

Элементы располагаются в конце контейнера.

image::visual-components/layouts/flex-layout-end.png[align="center", width="330"]

.XML code
[%collapsible]
====
[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/flexlayout/flex-layout-view.xml[tags=flexLayoutEnd]
----
====

[[content-alignment-stretch]]
*STRETCH*

Элементы растягиваются, чтобы заполнить контейнер.

image::visual-components/layouts/flex-layout-stretch.png[align="center", width="330"]

.XML code
[%collapsible]
====
[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/flexlayout/flex-layout-view.xml[tags=flexLayoutStretch]
----
====

[[content-alignment-space-between]]
*SPACE_BETWEEN*

Элементы распределяются равномерно внутри контейнера. Первый элемент выравнивается по началу, последний - по концу.

image::visual-components/layouts/flex-layout-space-between.png[align="center", width="330"]

.XML code
[%collapsible]
====
[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/flexlayout/flex-layout-view.xml[tags=flexLayoutSpaceBetween]
----
====

[[content-alignment-space-around]]
*SPACE_AROUND*

Элементы распределяются равномерно внутри контейнера. По обеим сторонам элементов остается пространство, равное половине их размера.

image::visual-components/layouts/flex-layout-space-around.png[align="center", width="330"]

.XML code
[%collapsible]
====
[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/flexlayout/flex-layout-view.xml[tags=flexLayoutSpaceAround]
----
====

[[about-expand]]
== Expand

Указывает компонент внутри контейнера, который должен быть растянут, чтобы использовать все доступное пространство.

[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/flexlayout/flex-layout-view.xml[tags=flexLayout]
----

image::visual-components/layouts/flex-layout-expand.png[align="center", width="482"]

[[flex-direction]]
== Расположение flex-элементов

Атрибут `flexDirection` сопоставляется с CSS-свойством https://developer.mozilla.org/en-US/docs/Web/CSS/flex-direction[flex-direction^]. Это свойство определяет направление размещения flex-элементов внутри flex-контейнера, которое определяет главную ось и направление (прямое или обратное).

[[flex-direction-row]]
*ROW*

Элементы отображаются горизонтально, как строка.

image::visual-components/layouts/flex-direction-row.png[align="center", width="307"]

.XML code
[%collapsible]
====
[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/flexlayout/flex-layout-view.xml[tags=flexDirectionRow]
----
====

[[flex-direction-row-reverse]]
*ROW_REVERSE*

Элементы отображаются горизонтально, как строка в обратном порядке.

image::visual-components/layouts/flex-direction-row-reverse.png[align="center", width="307"]

.XML code
[%collapsible]
====
[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/flexlayout/flex-layout-view.xml[tags=flexDirectionRowReverse]
----
====

[[flex-direction-column]]
*COLUMN*

Элементы отображаются вертикально, как столбец.

image::visual-components/layouts/flex-direction-column.png[align="center", width="122"]

.XML code
[%collapsible]
====
[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/flexlayout/flex-layout-view.xml[tags=flexDirectionColumn]
----
====

[[flex-direction-column-reverse]]
*COLUMN_REVERSE*

Элементы отображаются вертикально, как столбец в обратном порядке.

image::visual-components/layouts/flex-direction-column-reverse.png[align="center", width="121"]

.XML code
[%collapsible]
====
[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/flexlayout/flex-layout-view.xml[tags=flexDirectionColumnReverse]
----
====

[[flex-wrap]]
== Перенос flex-элементов

Атрибут `flexWrap` сопоставляется с CSS-свойством https://developer.mozilla.org/en-US/docs/Web/CSS/flex-wrap[flex-wrap^]. Он определяет, будут ли flex-элементы располагаться на одной строке или могут переходить на несколько строк. Если разрешен перенос, он также задает направление, в котором строки будут располагаться друг над другом.

[[flex-wrap-nowrap]]
*NOWRAP*

Flex-элементы располагаются в одну строку, что может привести к переполнению flex-контейнера.

image::visual-components/layouts/flex-wrap-nowrap.png[align="center", width="464"]

.XML code
[%collapsible]
====
[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/flexlayout/flex-layout-view.xml[tags=flexWrapNowrap]
----
====

[[flex-wrap-wrap]]
*WRAP*

Flex-элементы переходят на несколько строк.

image::visual-components/layouts/flex-wrap-wrap.png[align="center", width="333"]

.XML code
[%collapsible]
====
[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/flexlayout/flex-layout-view.xml[tags=flexWrapWrap]
----
====

[[flex-wrap-wrap-reverse]]
*WRAP_REVERSE*

Flex-элементы переходят на несколько строк в обратном порядке.

image::visual-components/layouts/flex-wrap-wrap-reverse.png[align="center", width="335"]

.XML code
[%collapsible]
====
[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/flexlayout/flex-layout-view.xml[tags=flexWrapWrapReverse]
----
====

[[justify-content]]
== Режим JustifyContent

Атрибут `justifyContent` соответствует CSS-свойству https://developer.mozilla.org/en-US/docs/Web/CSS/justify-content[justify-content^]. Это свойство определяет, как браузер распределяет пространство между и вокруг элементов контента вдоль *главной оси* flex-контейнера.

[cols="1,4"]
|===
|Значение |Описание
|`START` (по умолчанию)
|Элементы размещаются в начале контейнера.
|`CENTER`
|Элементы размещаются в центре контейнера.
|`END`
|Элементы размещаются в конце контейнера.
|`BETWEEN`
|Элементы размещаются с пространством между строками; первый элемент на начальной линии, последний элемент на конечной линии.
|`AROUND`
|Элементы равномерно размещаются в линии с равным пространством вокруг них. Обратите внимание, что промежутки в начале и конце равны половине размера пространства между каждым элементом.
|`EVENLY`
|Элементы размещаются так, чтобы пространство между любыми двумя элементами (и пространство до краев) было равным.
|===

Примеры использования можно найти в разделе xref:vc/layout-rules.adoc#justify-content-mode[Правила компоновки].

== Атрибуты

В Jmix есть множество xref:vc/common-attributes.adoc[общих атрибутов], которые выполняют одну и ту же функцию для всех компонентов.

Ниже приведены атрибуты, специфичные для `flexLayout`.

[cols="1h,5,1", grid=rows, frame=none]
|===
|*Название*
|*Описание*
|*Значение по умолчанию*
|[[contentAlignment]]contentAlignment
|Устанавливает стандартное выравнивание, которое будет использоваться для всех линий гибкого контейнера. Смотрите <<content-alignment,Расположение содержимого>>.
|`STRETCH`
|[[expand]]expand
|Указывает идентификатор компонента, который может расширяться, чтобы занять любое оставшееся пространство в макете. Смотрите <<about-expand, Expand>>.
|
|[[flexDirection]]flexDirection
|Устанавливает свойство контейнера `flex-direction`. Смотрите <<flex-direction,Расположение flex-элементов>>.
|`ROW`
|[[flexWrap]]flexWrap
|Устанавливает свойство контейнера `flex-wrap`. Смотрите <<flex-wrap,Перенос flex-элементов>>.
|`NOWRAP`
|[[justifyContent]]justifyContent
|Устанавливает режим выравнивания содержимого, используемый этим контейнером. Смотрите <<justify-content,Режим JustifyContent>>.
|`START`
|===

== Обработчики

В Jmix существует множество xref:vc/common-handlers.adoc[общих обработчиков], которые конфигурируются одинаково для всех компонентов.

Ниже приведены обработчики, специфичные для `flexLayout`:

include::../handler-generation-tip.adoc[]

[cols="1h,6", grid=rows, frame=none]
|===
|*Название*
|*Описание*
|[[clickListener]]clickListener
|Вызывает событие `com.vaadin.flow.component.ClickEvent` с объектом `click`. Это событие срабатывает при каждом клике по контейнеру. Для програмной регистрации обработчика события используйте метод компонента `addClickListener()`.
|[[doubleClickListener]]doubleClickListener
|Вызывает событие `com.vaadin.flow.component.ClickEvent` с объектом `doubleClick`. Это событие срабатывает, когда пользователь дважды кликает по контейнеру с небольшим интервалом времени. Для програмной регистрации обработчика события используйте метод компонента `addDoubleClickListener()`.
|[[singleClickListener]]singleClickListener
|Вызывает событие `com.vaadin.flow.component.ClickEvent` с объектом `singleClick`. Событие срабатывает после таймаута, чтобы убедиться, что это не двойной клик. Чтобы зарегистрировать обработчик события программно, используйте метод компонента `addSingleClickListener()`.
|===