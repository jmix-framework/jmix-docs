= flexLayout - flex 布局
:page-aliases: vcl/containers/css-layout.adoc

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.io/ui-samples/sample/flex-layout-simple" class="live-demo-btn" target="_blank">在线示例</a>
</div>
++++

`flexLayout` 组件是一个实现了 CSS https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flexible_Box_Layout/Using_CSS_flexible_boxes[Flexbox 模型^] 的布局组件。使用 CSS 提供了一个在容器内灵活和响应式的方式排列子组件并设置样式。`flexLayout` 使用了默认的 https://developer.mozilla.org/en-US/docs/Web/CSS/flex-direction[flex-direction^]，并没有任何预先设置的宽度和高度。

[cols="1h,6", grid=none]
|===
|XML 元素
|`flexLayout`
|Java 类
|`FlexLayout`
|XML 属性
|xref:vc/common-attributes.adoc#id[id] -
xref:vc/common-attributes.adoc#alignItems[alignItems] -
xref:vc/common-attributes.adoc#alignSelf[alignSelf] -
xref:vc/common-attributes.adoc#classNames[classNames] -
xref:vc/common-attributes.adoc#clickShortcut[clickShortcut] -
xref:vc/common-attributes.adoc#colspan[colspan] -
<<contentAlignment,contentAlignment>> -
xref:vc/common-attributes.adoc#css[css] -
xref:vc/common-attributes.adoc#enabled[enabled] -
<<expand,expand>> -
<<flexDirection,flexDirection>> -
<<flexWrap,flexWrap>> -
xref:vc/common-attributes.adoc#height[height] -
<<justifyContent,justifyContent>> -
xref:vc/common-attributes.adoc#maxHeight[maxHeight] -
xref:vc/common-attributes.adoc#maxWidth[maxWidth] -
xref:vc/common-attributes.adoc#minHeight[minHeight] -
xref:vc/common-attributes.adoc#minWidth[minWidth] -
xref:vc/common-attributes.adoc#visible[visible] -
xref:vc/common-attributes.adoc#width[width]
|事件和处理器
|xref:vc/common-handlers.adoc#AttachEvent[AttachEvent] -
<<clickListener,clickListener>> -
<<doubleClickListener,doubleClickListener>> -
<<singleClickListener,singleClickListener>> -
xref:vc/common-handlers.adoc#DetachEvent[DetachEvent]
|===

[[content-alignment]]
== 内容对齐

`contentAlignment` 属性对应于 CSS 的 https://developer.mozilla.org/en-US/docs/Web/CSS/align-content[align-content^] 属性。该属性控制 flex 容器内多行内容在容器有多余空间时，在 *交叉轴* 方向上的对其方式。与 *主轴* 的属性 `justify-content` 类似。

NOTE: 该属性仅影响 *多行* flex 容器，即 `flex-wrap` 设置为 `wrap` 或 `wrap-reverse` 的容器。*单行* flex 容器（即，`flex-wrap` 设置为默认值 `no-wrap` 时）不受该属性影响。

[[content-alignment-start]]
*START*

内部元素位于容器的起始位置。

image::visual-components/layouts/flex-layout-start.png[align="center", width="333"]

.XML 代码
[%collapsible]
====
[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/flexlayout/flex-layout-view.xml[tags=flexLayoutStart]
----
====

[[content-alignment-center]]
*CENTER*

内部元素位于容器的中心位置。

image::visual-components/layouts/flex-layout-center.png[align="center", width="330"]

.XML 代码
[%collapsible]
====
[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/flexlayout/flex-layout-view.xml[tags=flexLayoutCenter]
----
====

[[content-alignment-end]]
*END*

内部元素位于容器的末端位置。

image::visual-components/layouts/flex-layout-end.png[align="center", width="330"]

.XML 代码
[%collapsible]
====
[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/flexlayout/flex-layout-view.xml[tags=flexLayoutEnd]
----
====

[[content-alignment-stretch]]
*STRETCH*

内部元素拉伸以适配容器的尺寸。

image::visual-components/layouts/flex-layout-stretch.png[align="center", width="330"]

.XML 代码
[%collapsible]
====
[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/flexlayout/flex-layout-view.xml[tags=flexLayoutStretch]
----
====

[[content-alignment-space-between]]
*SPACE_BETWEEN*

内部元素在容器内均匀分布。第一个元素与容器开始对齐，最后一个与容器末端对齐。

image::visual-components/layouts/flex-layout-space-between.png[align="center", width="330"]

.XML 代码
[%collapsible]
====
[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/flexlayout/flex-layout-view.xml[tags=flexLayoutSpaceBetween]
----
====

[[content-alignment-space-around]]
*SPACE_AROUND*

内部元素在容器内均匀分布。每个元素的两边都有一半宽度的空间。

image::visual-components/layouts/flex-layout-space-around.png[align="center", width="330"]

.XML 代码
[%collapsible]
====
[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/flexlayout/flex-layout-view.xml[tags=flexLayoutSpaceAround]
----
====

[[about-expand]]
== 单元素延展

指定布局容器内的一个组件延展开，占据所有可用空间。

[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/flexlayout/flex-layout-view.xml[tags=flexLayout]
----

image::visual-components/layouts/flex-layout-expand.png[align="center", width="482"]

[[flex-direction]]
== 主轴方向

`flexDirection` 属性对应于 CSS 的 https://developer.mozilla.org/en-US/docs/Web/CSS/flex-direction[flex-direction^] 属性。该属性设置 flex 容器内的元素的排列方式，确定主轴和方向（正序或倒序）。

[[flex-direction-row]]
*ROW*

内部元素水平排列成一行。

image::visual-components/layouts/flex-direction-row.png[align="center", width="307"]

.XML 代码
[%collapsible]
====
[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/flexlayout/flex-layout-view.xml[tags=flexDirectionRow]
----
====

[[flex-direction-row-reverse]]
*ROW_REVERSE*

内部元素水平排列成一行，但是为倒序排列。

image::visual-components/layouts/flex-direction-row-reverse.png[align="center", width="307"]

.XML 代码
[%collapsible]
====
[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/flexlayout/flex-layout-view.xml[tags=flexDirectionRowReverse]
----
====

[[flex-direction-column]]
*COLUMN*

内部元素垂直排列为一列。

image::visual-components/layouts/flex-direction-column.png[align="center", width="122"]

.XML 代码
[%collapsible]
====
[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/flexlayout/flex-layout-view.xml[tags=flexDirectionColumn]
----
====

[[flex-direction-column-reverse]]
*COLUMN_REVERSE*

内部元素垂直排列为一列，但是以倒序排列。

image::visual-components/layouts/flex-direction-column-reverse.png[align="center", width="121"]

.XML 代码
[%collapsible]
====
[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/flexlayout/flex-layout-view.xml[tags=flexDirectionColumnReverse]
----
====

[[flex-wrap]]
== 内容换行

`flexWrap` 属性对应于 CSS 的 https://developer.mozilla.org/en-US/docs/Web/CSS/flex-wrap[flex-wrap^] 属性。确定内部元素是强制为单行还是可以换行至多行。如果允许换行，还可以设置内部元素的堆叠方向（正序或倒序）。

[[flex-wrap-nowrap]]
*NOWRAP*

内部元素强制单行排列，可能会溢出布局容器。

image::visual-components/layouts/flex-wrap-nowrap.png[align="center", width="464"]

.XML 代码
[%collapsible]
====
[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/flexlayout/flex-layout-view.xml[tags=flexWrapNowrap]
----
====

[[flex-wrap-wrap]]
*WRAP*

内部元素分为多行排列。

image::visual-components/layouts/flex-wrap-wrap.png[align="center", width="333"]

.XML 代码
[%collapsible]
====
[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/flexlayout/flex-layout-view.xml[tags=flexWrapWrap]
----
====

[[flex-wrap-wrap-reverse]]
*WRAP_REVERSE*

内部元素分为多行，以倒序排列。

image::visual-components/layouts/flex-wrap-wrap-reverse.png[align="center", width="335"]

.XML 代码
[%collapsible]
====
[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/layout/flexlayout/flex-layout-view.xml[tags=flexWrapWrapReverse]
----
====

[[justify-content]]
== 内容排列

`justifyContent` 属性对应于 CSS 的 https://developer.mozilla.org/en-US/docs/Web/CSS/justify-content[justify-content^] 属性。该属性控制在 flex 容器的主轴方向如何分配空间。

[cols="1,4"]
|===
|值 
|描述
|`START`（默认）
|内部元素位于容器的起始位置。
|`CENTER`
|内部元素位于容器的中心位置。
|`END`
|内部元素位于容器的末端位置。
|`BETWEEN`
|内部元素之间有空白，第一个元素位于主轴的起始位置，最后一个元素位于结束位置。
|`AROUND`
|每个内部元素两侧的间隔相等，两端间隔减半。
|`EVENLY`
|每个内部元素两侧的间隔（以及边缘间隔）相等，平均分布。
|===

示例请访问 xref:vc/layout-rules.adoc#justify-content-mode[布局规则] 部分。

== XML 属性

在 Jmix 中，所有组件都有一些作用一致的 xref:vc/common-attributes.adoc[通用属性]。
下面是 `flexLayout` 的特殊属性：

[cols="1h,5,1", grid=rows, frame=none]
|===
|*名称*
|*描述*
|*默认值*
|[[contentAlignment]]contentAlignment
|设置默认对齐方式。参阅 <<content-alignment,内容对齐>>。
|`STRETCH`
|[[expand]]expand
|设置一个内部元素的 id，该元素可以延展以占据所有可用空间。参阅 <<about-expand,延展>>。
|
|[[flexDirection]]flexDirection
|设置布局的 flex 方向属性。参阅 <<flex-direction,>>。
|`ROW`
|[[flexWrap]]flexWrap
|设置布局的换行属性。参阅 <<flex-wrap,内容换行>>。
|`NOWRAP`
|[[justifyContent]]justifyContent
|设置内容的排列方式。参阅 <<justify-content,内容排列>>。
|`START`
|===

== 事件和处理器

在 Jmix 中，所有组件都有一些 xref:vc/common-handlers.adoc[通用事件和处理器]，可以按相同的方法设置。
下面是 `flexLayout` 的特殊事件和处理器：

include::../handler-generation-tip.adoc[]

[cols="1h,6", grid=rows, frame=none]
|===
|*名称*
|*描述*
|[[clickListener]]clickListener
|当用户点击布局时触发标题为 `click` 的 `com.vaadin.flow.component.ClickEvent`。使用组件的 `addClickListener()` 可以注册事件的处理方法。
|[[doubleClickListener]]doubleClickListener
|当用户在短时间内点击组件两次时触发标题为 `doubleClick` 的 `com.vaadin.flow.component.ClickEvent`。使用组件的 `addDoubleClickListener()` 可以注册事件的处理方法。
|[[singleClickListener]]singleClickListener
|当用户在单击组件一小段时间后会（确保不是双击）触发标题为 `singleClick` 的 `com.vaadin.flow.component.ClickEvent`。使用组件的 `addSingleClickListener()` 可以注册事件的处理方法。
|===
