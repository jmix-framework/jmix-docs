= Компонент FullCalendar

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.ru/ui-samples/sample/calendar" class="live-demo-btn" target="_blank">ДЕМОНСТРАЦИЯ</a>
</div>
++++

`FullCalendar` - это компонент пользовательского интерфейса, предназначенный для отображения диапазонов дат и событий календаря. Он предлагает широкий спектр функций для управления событиями календаря и предоставляет различные режимы отображения (день, неделя, месяц и т.д.).

[cols="1h,6",grid=none]
|===

|XML-элемент| `calendar`

|Java-класс |`FullCalendar`

|Атрибуты

|xref:flow-ui:vc/common-attributes.adoc#id[id] -
<<allDayMaintainDurationEnabled, allDayMaintainDurationEnabled>> -
<<allDayText, allDayText>> -
<<closeHint, closeHint>> -
xref:flow-ui:vc/common-attributes.adoc#alignSelf[alignSelf] -
xref:flow-ui:vc/common-attributes.adoc#classNames[classNames] -
xref:flow-ui:vc/common-attributes.adoc#colspan[colspan] -
xref:flow-ui:vc/common-attributes.adoc#css[css] -
<<dateAlignment, dateAlignment>> -
<<dayHeadersVisible, dayHeadersVisible>> -
<<dayMaxEventRows, dayMaxEventRows>> -
<<dayMaxEvents, dayMaxEvents>> -
<<dayOfYear, dayOfYear>> -
<<defaultAllDay, defaultAllDay>> -
<<defaultAllDayEventDuration, defaultAllDayEventDuration>> -
<<defaultBusinessHoursEnabled, defaultBusinessHoursEnabled>> -
<<defaultDayHeaderFormat, defaultDayHeaderFormat>> -
<<defaultDayMaxEventRowsEnabled, defaultDayMaxEventRowsEnabled>> -
<<defaultDayMaxEventsEnabled, defaultDayMaxEventsEnabled>> -
<<defaultDayPopoverFormat, defaultDayPopoverFormat>> -
<<defaultEventTimeFormat, defaultEventTimeFormat>> -
<<defaultSlotLabelFormat, defaultSlotLabelFormat>> -
<<defaultTimedEventDuration, defaultTimedEventDuration>> -
<<defaultWeekNumberFormat, defaultWeekNumberFormat>> -
<<direction, direction>> -
<<displayEventTime, displayEventTime>> -
<<dragRevertDuration, dragRevertDuration>> -
<<dragScroll, dragScroll>> -
<<eventBackgroundColor, eventBackgroundColor>> -
<<eventBorderColor, eventBorderColor>> -
<<eventConstraintBusinessHoursEnabled, eventConstraintBusinessHoursEnabled>> -
<<eventConstraintGroupId, eventConstraintGroupId>> -
<<eventDisplay, eventDisplay>> -
<<eventDragMinDistance, eventDragMinDistance>> -
<<eventDurationEditable, eventDurationEditable>> -
<<eventHint, eventHint>> -
<<eventInteractive, eventInteractive>> -
<<eventLongPressDelay, eventLongPressDelay>> -
<<eventMaxStack, eventMaxStack>> -
<<eventOrder, eventOrder>> -
<<eventOrderStrict, eventOrderStrict>> -
<<eventOverlap, eventOverlap>> -
<<eventResizableFromStart, eventResizableFromStart>> -
<<eventStartEditable, eventStartEditable>> -
<<eventTextColor, eventTextColor>> -
<<expandRows, expandRows>> -
<<firstDayOfWeek, firstDayOfWeek>> -
<<forceEventDuration, forceEventDuration>> -
xref:flow-ui:vc/common-attributes.adoc#height[height] -
<<initialDate, initialDate>> -
<<initialDisplayMode, initialDisplayMode>> -
xref:flow-ui:vc/common-attributes.adoc#maxHeight[maxHeight] -
xref:flow-ui:vc/common-attributes.adoc#maxWidth[maxWidth] -
xref:flow-ui:vc/common-attributes.adoc#minHeight[minHeight] -
xref:flow-ui:vc/common-attributes.adoc#minWidth[minWidth] -
<<moreLinkClassNames, moreLinkClassNames>> -
<<moreLinkDisplayMode, moreLinkDisplayMode>> -
<<moreLinkHint, moreLinkHint>> -
<<moreLinkText, moreLinkText>> -
<<navLinkHint, navLinkHint>> -
<<navigationLinksEnabled, navigationLinksEnabled>> -
<<nextDayThreshold, nextDayThreshold>> -
<<noEventsText, noEventsText>> -
<<nowIndicatorVisible, nowIndicatorVisible>> -
<<progressiveEventRendering, progressiveEventRendering>> -
<<scrollTime, scrollTime>> -
<<scrollTimeReset, scrollTimeReset>> -
<<selectConstraintBusinessHoursEnabled, selectConstraintBusinessHoursEnabled>> -
<<selectConstraintGroupId, selectConstraintGroupId>> -
<<selectLongPressDelay, selectLongPressDelay>> -
<<selectMinDistance, selectMinDistance>> -
<<selectMirror, selectMirror>> -
<<selectOverlap, selectOverlap>> -
<<selectionEnabled, selectionEnabled>> -
<<slotDuration, slotDuration>> -
<<slotLabelInterval, slotLabelInterval>> -
<<slotMaxTime, slotMaxTime>> -
<<slotMinTime, slotMinTime>> -
<<snapDuration, snapDuration>> -
<<timeHint, timeHint>> -
<<unselectAuto, unselectAuto>> -
<<unselectCancelSelector, unselectCancelSelector>> -
xref:flow-ui:vc/common-attributes.adoc#visible[visible] -
<<weekNumbersVisible, weekNumbersVisible>> -
<<weekTextLong, weekTextLong>> -
<<weekendsVisible, weekendsVisible>> -
xref:flow-ui:vc/common-attributes.adoc#width[width] -
<<windowResizeDelay, windowResizeDelay>>

|Элементы
|<<business-hours-element, businessHours>> -
<<custom-display-modes-element, customDisplayModes>> -
<<data-providers-element, dataProviders>> -
<<display-mode-properties-element, displayModeProperties>> -
<<hidden-days-element, hiddenDays>>

|===

[[basic]]
== Основы

Компонент `FullCalendar` становится доступен в палитре *Add Component* xref:studio:view-designer.adoc[дизайнера экранов] Студии, как только вы установите дополнение в свой проект.

image::add-calendar-via-studio.png[align="center"; width="765"]

Новый элемент `calendar:calendar` будет добавлен как в панель структуры *Jmix UI*, так и в XML. Вы можете настроить атрибуты, такие как xref:flow-ui:vc/common-attributes.adoc#id[id], xref:flow-ui:vc/common-attributes.adoc#height[height], xref:flow-ui:vc/common-attributes.adoc#width[width] и т.д., аналогично тому, как это делается для других xref:flow-ui:vc/components.adoc[компонентов пользовательского интерфейса].

[source,xml,indent=0]
----
<calendar:calendar id="calendar"
                   height="100%"
                   width="100%"/>
----

Если вы не используете дизайнер экранов, объявите пространство имен `calendar` в XML-дескрипторе вашего экрана вручную:

[source,xml,indent=0]
----
<view xmlns="http://jmix.io/schema/flowui/view"
      xmlns:calendar="http://jmix.io/schema/fullcalendar/ui"
      title="Calendar view">
----

Если вам нужно отображать события, свяжите `containerEventProvider` с xref:flow-ui:data/data-containers.adoc[контейнером данных].

В следующем примере показано, как создать базовый календарь:

[source,xml,indent=0]
----
include::example$fullcalendar-ex2/src/main/resources/com/company/fullcalendarsample/view/demos/sample-basic.xml[tags=sample-basic1]
----

[[data-model]]
== Модель данных

[[calendar-event]]
=== CalendarEvent

Базовый интерфейс для событий в компоненте `FullCalendar` - это `CalendarEvent`. Он предоставляет общий набор свойств для представления событий. Эти свойства используются для отображения и управления событиями в календаре.

[cols="1h,6a",grid=none]
|===
|[[id]]id
|Уникальный идентификатор события календаря. Используется для идентификации на стороне клиента.

|[[groupId]]groupId
|Объект группы, общий для других событий. События с одинаковым идентификатором группы будут автоматически перетаскиваться и изменять размер вместе.

|[[allDay]]allDay
|Определяет, отображается ли событие в разделе "весь день" соответствующего <<calendar-display-modes,режима отображения>>. По умолчанию компонент считает все события не "весь день".

Значение `null` означает, что событие не является событием "весь день".

|[[startDateTime]]startDateTime
|Определяет начальное время события. Имеет тип `LocalDateTime` и должно соответствовать стандартному часовому поясу системы. Для <<EntityCalendarEvent>> значение будет автоматически преобразовано из поддерживаемого типа данных даты и времени.

|[[endDateTime]]endDateTime
|Определяет конечное время события. Имеет тип `LocalDateTime` и должно соответствовать стандартному часовому поясу системы. Для <<EntityCalendarEvent>> значение будет автоматически преобразовано из поддерживаемого типа данных даты и времени.

Это значение *исключающее*. Например, событие с конечным временем `2024-09-03` будет отображаться как захватывающее `2024-09-02`, но не будет распространяться на начало `2024-09-03`.

|[[title]]title
|Текст, который будет отображаться на событии.

|[[description]]description
|Текст описания события.

|[[interactive]]interactive
|Указывает, можно ли переходить к событиям с помощью клавиши TAB.

Если значение `null`, календарь будет управлять интерактивностью событий на основе свойства <<eventInteractive, eventInteractive>>.

|[[classNames]]classNames
|Указывает имена классов, разделенные пробелами, которые должны быть прикреплены к визуализированному событию.

|[[startEditable]]startEditable
|Определяет, можно ли перетаскивать событие в компоненте календаря.

Если значение `null`, календарь будет управлять возможностью перетаскивания события на основе свойства <<eventStartEditable, eventStartEditable>>.

|[[durationEditable]]durationEditable
|Определяет, можно ли изменять размер события в компоненте календаря.

Если значение `null`, календарь будет управлять возможностью изменения размера события на основе свойства <<eventDurationEditable, eventDurationEditable>>.

|[[display]]display
|Определяет тип рендеринга события. Если не указано, будет использоваться значение `AUTO`.

|[[overlap]]overlap
|Определяет, можно ли перетаскивать или изменять размер события поверх других событий. Также предотвращает перетаскивание или изменение размера других событий поверх этого события.

Если значение `null`, календарь будет управлять этой функцией на основе свойства <<eventOverlap, eventOverlap>> или специальной JavaScript-функции.

|[[constraint]]constraint
|Определяет общий идентификатор группы. Это свойство ограничивает перетаскивание и изменение размера определенных ячеек в компоненте.

Если значение `null`, календарь будет управлять ограничением события на основе свойств <<eventConstraintGroupId, eventConstraintGroupId>> или <<eventConstraintBusinessHoursEnabled, eventConstraintBusinessHoursEnabled>>.

|[[backgroundColor]]backgroundColor
|Указывает цвет фона для события. Поддерживаемые значения включают:

* Шестнадцатеричные коды цветов (например, `#f00`, `#ff0000`)
* RGB-значения цветов (например, `rgb(255,0,0)`)
* Названия цветов (например, `red`)

Если значение `null`, календарь будет управлять фоновым цветом события на основе свойства <<eventBackgroundColor, eventBackgroundColor>>.

|[[borderColor]]borderColor
|Указывает цвет границы для события. Поддерживаемые значения включают:

* Шестнадцатеричные коды цветов (например, `#f00`, `#ff0000`)
* RGB-значения цветов (например, `rgb(255,0,0)`)
* Названия цветов (например, `red`)

Если значение `null`, календарь будет управлять цветом границы события на основе свойства <<eventBorderColor, eventBorderColor>>.

|[[textColor]]textColor
|Указывает цвет текста для события. Поддерживаемые значения включают:

* Шестнадцатеричные коды цветов (например, `#f00`, `#ff0000`)
* RGB-значения цветов (например, `rgb(255,0,0)`)
* Названия цветов (например, `red`)

Если значение `null`, календарь будет управлять цветом текста события на основе свойства <<eventTextColor, eventTextColor>>.

|[[additionalProperties]]additionalProperties
|Определяет дополнительные свойства и их значения, которые будут доступны в различных JavaScript-функциях, которые принимают событие в качестве параметра.

|[[recurringDaysOfWeek]]recurringDaysOfWeek
|Указывает дни недели, в которые это событие повторяется. Если этот атрибут не указан, предполагается, что событие повторяется каждый день.

|[[recurringStartDate]]recurringStartDate
|Указывает дату, когда начинаются повторения этого события. Если эта дата не указана, повторения будут простираться бесконечно в прошлое.

|[[recurringEndDate]]recurringEndDate
|Указывает дату, когда заканчиваются повторения этого события. Если эта дата не указана, повторения будут простираться бесконечно в будущее.

Имейте ввиду, это значение *исключающее*. Для событий, повторяющихся в течение всего дня, установите конечную дату на день после желаемого последнего повторения.

|[[recurringStartTime]]recurringStartTime
|Указывает время начала повторяющегося события. Если оно не определено, событие считается событием "весь день".

Имейте ввиду, календарь не применяет преобразование часового пояса для этого свойства. Если в сущности используется тип данных `OffsetTime`, он будет преобразован в стандартный часовой пояс системы.

|[[recurringEndTime]]recurringEndTime
|Указывает время окончания повторяющегося события. Если оно не определено, событие будет иметь продолжительность по умолчанию, как настроено свойством <<defaultTimedEventDuration, defaultTimedEventDuration>>.
|===

[[entity-calendar-event]]
=== EntityCalendarEvent

Реализация <<calendar-event, CalendarEvent>>, которая работает с JPA-сущностями или DTO. Когда <<container-data-provider>> связан с xref:flow-ui:data/collection-container.adoc[контейнером коллекции], он автоматически оборачивает загруженные сущности в объекты `EntityCalendarEvent` и передает их в компонент. Например, все события календаря в этом сценарии будут экземплярами `EntityCalendarEvent`:

[source,xml,indent=0]
----
include::example$fullcalendar-ex2/src/main/resources/com/company/fullcalendarsample/view/demos/sample-entity-calendar-event.xml[tags=sample-entity-calendar-event1]
----

И вы можете безопасно привести к типу `EntityCalendarEvent`:

[source,java,indent=0]
----
include::example$fullcalendar-ex2/src/main/java/com/company/fullcalendarsample/view/demos/SampleEntityCalendarEvent.java[tags=sample-entity-calendar-event2]
----

[[simple-calendar-event]]
=== SimpleCalendarEvent

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.ru/ui-samples/sample/calendar-simple-calendar-event" class="live-demo-btn" target="_blank">ДЕМОНСТРАЦИЯ</a>
</div>
++++

Это простой класс POJO, который реализует интерфейс <<calendar-event, CalendarEvent>>. Вы можете использовать этот класс событий как альтернативу созданию DTO или для целей прототипирования. Он также включает класс-строитель для упрощения создания экземпляров событий.

[source,java,indent=0]
----
include::example$fullcalendar-ex2/src/main/java/com/company/fullcalendarsample/view/demos/SampleSimpleCalendarEventView.java[tags=sample-simple-calendar-event1]
----

[[recurring-events]]
=== Повторяющиеся события

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.ru/ui-samples/sample/calendar-recurring-events" class="live-demo-btn" target="_blank">ДЕМОНСТРАЦИЯ</a>
</div>
++++

Повторяющиеся события - это события, которые происходят несколько раз с регулярными интервалами, следуя заранее определенному расписанию.

Recurring events are events that occur multiple times at regular intervals, following a predefined schedule.

В `FullCalendar` вы можете настроить это расписание, используя следующие свойства в `CalendarEvent`:

- <<recurringDaysOfWeek, recurringDaysOfWeek>>
- <<recurringStartDate, recurringStartDate>>
- <<recurringEndDate, recurringEndDate>>
- <<recurringStartTime, recurringStartTime>>
- <<recurringEndTime, recurringEndTime>>

Если указано любое из этих свойств повторения, `FullCalendar` предполагает, что событие является повторяющимся, и игнорирует свойства <<startDateTime, startDateTime>> и <<endDateTime, endDateTime>>.

Когда поставщик данных указывает свойства повторения, единственное повторяющееся событие в контейнере будет развернуто в отдельные экземпляры событий с их собственными датами в `FullCalendar`. Однако контейнер по-прежнему будет содержать единственное повторяющееся событие.

Вы можете указать свойства повторения в поставщике данных, как показано ниже:

[source,xml,indent=0]
----
include::example$fullcalendar-ex2/src/main/resources/com/company/fullcalendarsample/view/demos/sample-recurring-events-view.xml[tags=sample-recurring-events1]
----

[[recurrence-event-and-group-id]]
==== Управление повторяющимися событиями в FullCalendar

`FullCalendar` разворачивает отдельные повторяющиеся события в отдельные экземпляры событий. Эти экземпляры рассматриваются как независимые события, то есть изменения одного экземпляра по умолчанию не влияют на другие.

*Пример: Перемещение повторяющихся событий*

Предположим, у вас есть повторяющаяся встреча, которая происходит каждую среду. Если вы включите свойство <<eventStartEditable, eventStartEditable>>, пользователь может перетащить и переместить конкретный экземпляр этой встречи (например, встречу 7 ноября) в другое временное окно. Однако это изменение затронет только экземпляр 7 ноября. Встречи в другие среды останутся в своем первоначальном времени.

*Группировка повторяющихся событий*

Чтобы перемещать все экземпляры повторяющегося события вместе, вам нужно сгруппировать их, используя свойство <<groupId, groupId>> в <<calendar-event, CalendarEvent>>.

Как это работает:

. *Назначение идентификатора группы*: Установите одно и то же значение `groupId` для всех экземпляров повторяющегося события, которые вы хотите перемещать вместе.
. *Включение перетаскивания*: Убедитесь, что свойство `eventStartEditable` установлено в `true`, чтобы разрешить перетаскивание.

Теперь, когда пользователь перетаскивает экземпляр повторяющегося события, все экземпляры в этой группе будут перемещаться одновременно, сохраняя определенный шаблон повторения.

[[days-of-week-datatype]]
==== Тип данных DaysOfWeek

Свойство <<recurringDaysOfWeek, recurringDaysOfWeek>> определяет список дней недели. Чтобы хранить эти данные в JPA-сущностях или DTO, Jmix предоставляет специальный тип данных, называемый `DaysOfWeek`.

Studio автоматически предоставляет этот тип данных, когда вы добавляете атрибут к JPA-сущности или DTO. Затем вы можете выбрать нужные дни недели для вашего повторяющегося события.

image::add-recurring-days-of-week-attribute.png[align="center",width="871"]

Тип данных `DaysOfWeek` поддерживается как компонентом xref:flow-ui:vc/components/valuePicker.adoc[], так и действием `DaysOfWeekEditAction`. Это позволяет легко редактировать список дней недели в вашем пользовательском интерфейсе.

[source,xml,indent=0]
----
include::example$fullcalendar-ex2/src/main/resources/com/company/fullcalendarsample/view/app/event/event-detail-view.xml[tags=sample-days-of-week-edit-action]
----

[[data-binding]]
== Привязка данных

Компонент календаря использует поставщики данных для подключения загруженных данных и их визуального отображения. Чтобы элемент данных был виден в компоненте, он должен реализовывать интерфейс <<calendar-event, CalendarEvent>>. Для JPA-сущностей или DTO <<container-data-provider>> оборачивает сущность, чтобы создать <<EntityCalendarEvent>>.

Компонент `FullCalendar` позволяет добавлять несколько поставщиков данных. Это позволяет вам отображать данные из разных источников данных и сервисов в одном календаре.

[[calendar-data-provider]]
=== CalendarDataProvider

`CalendarDataProvider` - это базовый интерфейс для всех поставщиков данных, используемых календарем. Существует два основных типа поставщиков данных календаря:

* Поставщики данных, которые загружают все данные сразу. Эти поставщики получают все соответствующие данные за одну операцию.
* <<CallbackCalendarDataProvider>>. Эти поставщики загружают данные по требованию, используя механизм обратного вызова для получения частичных данных по мере необходимости.

[[container-data-provider]]
=== ContainerDataProvider

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.ru/ui-samples/sample/calendar-container-calendar-data-provider" class="live-demo-btn" target="_blank">ДЕМОНСТРАЦИЯ</a>
</div>
++++

`ContainerDataProvider` работает с xref:flow-ui:data/data-containers.adoc[контейнерами данных].
Он отражает любые изменения, внесенные в контейнер (добавление, удаление или изменение сущностей), и обновляет пользовательский интерфейс `FullCalendar` соответствующим образом.

Чтобы использовать поставщик данных контейнера в `FullCalendar`, необходимо указать:

* Свойство `dataContainer`: ссылка на идентификатор существующего контейнера в вашем экране.
* Сопоставление свойств сущности. Поставщик данных контейнера оборачивает JPA-сущности или DTO в <<entity-calendar-event>>, чтобы сделать их совместимыми с компонентом `FullCalendar`. Однако он не знает автоматически, какие свойства из JPA-сущности или DTO должны использоваться для <<calendar-event>>. Поэтому необходимо определить сопоставление свойств, чтобы указать, какие свойства сущности соответствуют определенным свойствам `CalendarEvent`.

Вот пример использования `ContainerDataProvider`:

[source,xml,indent=0]
----
include::example$fullcalendar-ex2/src/main/resources/com/company/fullcalendarsample/view/demos/sample-container-calendar-data-provider-view.xml[tags=sample-container-calendar-data-provider1]
----

Чтобы работать с поставщиком данных контейнера программно, вы можете использовать класс `ContainerCalendarDataProvider`.

[[list-calendar-data-provider]]
=== ListCalendarDataProvider

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.ru/ui-samples/sample/calendar-list-calendar-data-provider" class="live-demo-btn" target="_blank">ДЕМОНСТРАЦИЯ</a>
</div>
++++

`ListCalendarDataProvider` извлекает данные из предоставленного списка элементов. Он не требует XML-определения и может быть добавлен программно.

Вот базовый пример использования `ListCalendarDataProvider`:

[source,java,indent=0]
----
include::example$fullcalendar-ex2/src/main/java/com/company/fullcalendarsample/view/demos/SampleListCalendarDataProviderView.java[tags=sample-list-calendar-data-provider1]
----

`ListCalendarDataProvider` автоматически обновляет пользовательский интерфейс `FullCalendar`, когда его данные изменяются через методы API:

* `addItem()`: добавляет элемент в пользовательский интерфейс.
* `removeItem()`: удаляет элемент из пользовательского интерфейса.
* `updateItem()`: обновляет элемент в пользовательском интерфейсе.

`ListDataProvider` также предоставляет другие методы для управления списком элементов.

[[callback-calendar-data-provider]]
=== CallbackCalendarDataProvider

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.ru/ui-samples/sample/calendar-callback-calendar-data-provider" class="live-demo-btn" target="_blank">ДЕМОНСТРАЦИЯ</a>
</div>
++++

`CallbackCalendarDataProvider` - это базовый интерфейс для поставщиков данных, которые загружают данные по запросу. Этот интерфейс определяет метод `onItemsFetch()`, который вызывается всякий раз, когда компоненту нужны новые данные.

Данные загружаются в следующих ситуациях:

* Когда пользователь переключается на режим отображения календаря с более широким диапазоном дат, чем предыдущий. Например, если пользователь переходит с дневного представления на еженедельное, компоненту потребуется извлечь данные за всю неделю.
* Когда вызываются методы навигации компонента `FullCalendar`. Это включает в себя такие методы, как `navigateToNext()`, `navigateToPrevious()` и другие методы, которые перемещают представление календаря вперед или назад во времени.
* Когда изменяется часовой пояс компонента `FullCalendar`. Компоненту потребуется извлечь новые данные, чтобы отразить обновленный часовой пояс.

[[callback-data-provider]]
=== CallbackDataProvider

Поставщик данных, который загружает данные с использованием запроса JPQL и xref:data-access:data-manager.adoc[DataManager]. Аналогично <<container-data-provider>>, он требует определения сопоставлений свойств, чтобы указать, как свойства сущности сопоставляются со свойствами `CalendarEvent`. Кроме того, необходимо предоставить запрос JPQL, который определяет данные, которые будут загружены.

Пример сопоставлений свойств в элементе `callbackDataProvider`:

[source,xml,indent=0]
----
include::example$fullcalendar-ex2/src/main/resources/com/company/fullcalendarsample/view/demos/sample-entity-calendar-data-retriever-view.xml[tags=sample-entity-calendar-data-retriever1]
----

Чтобы загрузить данные с помощью JPQL-запроса, необходимо указать элемент <<items-query-element>> в поставщике данных. Этот элемент требует полного квалифицированного имени класса сущности, используемого в JPQL-запросе.

Запрос items позволяет вам определить xref:data-access:fetching.adoc#fetch-plan[план выборки] в атрибуте `fetchPlan` или в отдельном элементе `fetchPlan`.

[source,xml,indent=0]
----
include::example$fullcalendar-ex2/src/main/resources/com/company/fullcalendarsample/view/demos/sample-entity-calendar-data-retriever-view.xml[tags=sample-entity-calendar-data-retriever2]
----

В JPQL-запросе вы можете использовать два параметра:

- `fetchStartDate` - левая граница видимого диапазона дат в `FullCalendar`
- `fetchEndDate` - правая граница видимого диапазона дат в `FullCalendar`.

NOTE: Значение `fetchEndDate` является *исключающим*. Например, если видимый диапазон дат с `2024-09-29` по `2024-11-09`, то фактическое значение `fetchEndDate` будет `2024-11-10`.

Полный пример использования `callbackDataProvider`:

[source,xml,indent=0]
----
include::example$fullcalendar-ex2/src/main/resources/com/company/fullcalendarsample/view/demos/sample-entity-calendar-data-retriever-view.xml[tags=sample-entity-calendar-data-retriever10]
----

NOTE: Этот JPQL-запрос предполагает, что значения `startDate` и `endDate` не равны `null`. Если они могут быть `null`, вам нужно добавить проверку на `null` в запрос.

Для программной работы с `CallbackDataProvider` используйте класс `EntityCalendarDataRetriever`. Этот класс является Spring bean с областью видимости `prototype`, поэтому вы должны инициализировать его аккуратно, используя механизмы внедрения зависимостей Spring.

[[callback-data-provider-and-load-delegate]]
==== CallbackDataProvider и делегат загрузки

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.ru/ui-samples/sample/calendar-callback-load-delegate" class="live-demo-btn" target="_blank">ДЕМОНСТРАЦИЯ</a>
</div>
++++

В ситуациях, когда сложная бизнес-логика требует построения сложных JPQL-запросов с множеством условий, написание запроса непосредственно в XML-дескрипторе может стать громоздким. Чтобы решить эту проблему, вы можете установить делегат загрузки для `CallbackDataProvider`.

[source,java,indent=0]
----
include::example$fullcalendar-ex2/src/main/java/com/company/fullcalendarsample/view/demos/SampleEntityCalendarDataRetrieverView.java[tags=sample-entity-calendar-data-retriever4]
----

TIP: `myDataProvider` - это идентификатор поставщика данных. Вы можете указать его с помощью атрибута `id` в XML-определении.

NOTE: Если ваша реализация делегата загрузки возвращает список <<entity-calendar-event>>, вам нужно будет указать сопоставления свойств в поставщике данных.

[[calendar-data-retriever]]
=== CalendarDataRetriever

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.ru/ui-samples/sample/calendar-calendar-data-retriever" class="live-demo-btn" target="_blank">ДЕМОНСТРАЦИЯ</a>
</div>
++++

`CalendarDataRetriever` - это простой поставщик данных, похожий на `callbackDataProvider` с делегатом загрузки. Однако у него нет XML-определения. Этот поставщик данных может использоваться в сочетании с сервисами для загрузки данных, обеспечивая более гибкий и программный подход к управлению данными в компоненте календаря.

[source,java,indent=0]
----
include::example$fullcalendar-ex2/src/main/java/com/company/fullcalendarsample/view/demos/SampleEntityCalendarDataRetrieverView.java[tags=sample-entity-calendar-data-retriever5]
----

[[calendar-display-modes]]
== Режимы отображения календаря

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.ru/ui-samples/sample/calendar-calendar-display-modes" class="live-demo-btn" target="_blank">ДЕМОНСТРАЦИЯ</a>
</div>
++++

В `FullCalendar` режим отображения представляет собой конкретный способ визуализации данных календаря. Он позволяет пользователям просматривать события в разных временных рамках, таких как дни, недели или месяцы. Эта гибкость помогает пользователям взаимодействовать с календарем в различных форматах, в зависимости от их потребностей. Например, вы можете предпочесть детальный вид одного дня или более широкий обзор целого месяца.

`FullCalendar` предоставляет ряд встроенных режимов отображения:

[[day-grid-modes]]
* **Режимы day-grid** отображают события календаря в формате сетки, аналогичном традиционным бумажным календарям. Каждая ячейка в day-grid представляет собой один день.
[[dayGridDay]]
** `DAY_GRID_DAY` - фокусируется на одном дне, предлагая детальный вид событий, запланированных на этот конкретный день.
[[dayGridWeek]]
** `DAY_GRID_WEEK` - целая неделя дней, идеально подходит для концентрации на предстоящих событиях.
[[dayGridMonth]]
** `DAY_GRID_MONTH` - отображает весь месяц с первого взгляда, позволяя пользователям видеть все дни и связанные с ними события.
[[dayGridYear]]
** `DAY_GRID_YEAR` - представляет собой весь год, предоставляя общий обзор.
+
Вы можете использовать атрибут <<initialDisplayMode, initialDisplayMode>>, чтобы установить начальный режим day-grid для вашего экземпляра `FullCalendar`:
+
[source,xml,indent=0]
----
include::example$fullcalendar-ex2/src/main/resources/com/company/fullcalendarsample/view/demos/displaymode/day-grid-week-mode-view.xml[tags=day-grid-week-mode1]
----
+
На скриншоте ниже показан режим отображения day-grid month:
+
image::day-grid-month-mode.png[align="center",width="1371"]

[[time-grid-modes]]
* *Режимы time-grid* предлагают ориентированные на время макеты для отображения событий в течение одного или нескольких дней. Эти форматы особенно полезны для пользователей, которым нужно управлять своим расписанием с сильным акцентом на конкретное время в течение дня.
+
`FullCalendar` предоставляет два режима time-grid:
+
[[timeGridDay]]
** `TIME_GRID_DAY` - отображает один день в деталях, позволяя пользователям видеть все события, запланированные на этот день, вместе с их конкретным временем начала и окончания.
[[timeGridWeek]]
** `TIME_GRID_WEEK` - показывает целую неделю, предоставляя более широкий обзор, сохраняя при этом временные интервалы для каждого дня. Этот режим идеально подходит для визуализации еженедельных расписаний или планирования встреч в течение нескольких дней.
+
Вы можете использовать атрибут <<initialDisplayMode, initialDisplayMode>>, чтобы установить начальный режим time-grid для вашего экземпляра `FullCalendar`:
+
[source,xml,indent=0]
----
include::example$fullcalendar-ex2/src/main/resources/com/company/fullcalendarsample/view/demos/displaymode/time-grid-week-mode-view.xml[tags=time-grid-week-mode1]
----
+
На скриншоте ниже показан режим отображения time-grid week:
+
image::time-grid-week-mode.png[align="center",width="1110"]

[[list-modes]]
* *Режимы list* представляют события в простом вертикальном формате, что упрощает для пользователей просмотр и управление их расписаниями за определенный период. Этот макет идеально подходит для пользователей, которые предпочитают простое текстовое представление своих событий.
+
`FullCalendar` предлагает различные режимы list:
+
[[listDay]]
** `LIST_DAY` - отображает все события для одного дня.
[[listWeek]]
** `LIST_WEEK` - отображает события для всей недели.
[[listMonth]]
** `LIST_MONTH` - выводит список событий на весь месяц.
[[listYear]]
** `LIST_YEAR` - предоставляет обзор событий в течение всего года.
+
Вы можете использовать атрибут <<initialDisplayMode, initialDisplayMode>>, чтобы установить начальный режим list для вашего экземпляра `FullCalendar`:
+
[source,xml,indent=0]
----
include::example$fullcalendar-ex2/src/main/resources/com/company/fullcalendarsample/view/demos/displaymode/list-week-mode-view.xml[tags=list-week-mode1]
----
+
На скриншоте ниже показан режим отображения list week:
+
image::list-week-mode.png[align="center",width="780"]

[[multi-month-year]]
* **Режим multi-month year** предоставляет комплексный способ визуализации нескольких месяцев сразу, предлагая общий обзор событий за более длительный период.
+
[[multiMonthYear]]
** `MULTI_MONTH_YEAR` отображает сетку месяцев, позволяя пользователям видеть все 12 месяцев года в одном представлении. Это полезно для планирования и отслеживания событий, охватывающих несколько месяцев.
+
Вы можете использовать атрибут <<initialDisplayMode, initialDisplayMode>>, чтобы установить начальный режим многомесячного года для вашего экземпляра `FullCalendar`:
+
[source,xml,indent=0]
----
include::example$fullcalendar-ex2/src/main/resources/com/company/fullcalendarsample/view/demos/displaymode/multi-month-year-mode-view.xml[tags=multi-month-year-mode1]
----
+
На скриншоте ниже показан режим отображения multi-month year:
+
image::multi-month-year-mode.png[align="center",width="1127"]

=== Свойства режима отображения

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.ru/ui-samples/sample/calendar-display-mode-specific-properties" class="live-demo-btn" target="_blank">ДЕМОНСТРАЦИЯ</a>
</div>
++++

Каждый предопределенный режим отображения имеет свой собственный набор свойств. Некоторые свойства специфичны для определенного режима отображения, в то время как другие являются общими.

Например, вы можете настроить `dayHeaderFormat` только для режима day-grid day, и другие режимы не повлияют на его формат.

[source,xml,indent=0]
----
include::example$fullcalendar-ex2/src/main/resources/com/company/fullcalendarsample/view/demos/displaymode/display-mode-properties-view.xml[tags=display-mode-properties1]
----

`FullCalendar` также позволяет переопределять свойства в компоненте календаря с помощью свойств, настроенных из режима отображения.

Например, представьте, что компонент включает свойство <<weekNumbersVisible, weekNumbersVisible>>. Однако, если вам нужно отключить эту функцию для режима отображения day-grid month, вы должны использовать тег `properties` в свойствах режима отображения.

[source,xml,indent=0]
----
include::example$fullcalendar-ex2/src/main/resources/com/company/fullcalendarsample/view/demos/displaymode/display-mode-properties-override-view.xml[tags=display-mode-properties-override1]
----

NOTE: В атрибуте `name` вы должны указать имя свойства, как оно определено в `FullCalendar.js`. Обратитесь к https://fullcalendar.io/docs#toc[документации FullCalendar.js^], чтобы найти правильное имя свойства. Используйте эту функцию осторожно; `FullCalendar` может игнорировать эту настройку свойств режима отображения, если вы измените то же свойство в компоненте во время выполнения.

[[custom-calendar-display-mode]]
=== Пользовательский режим отображения календаря

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.ru/ui-samples/sample/calendar-custom-calendar-display-mode" class="live-demo-btn" target="_blank">ДЕМОНСТРАЦИЯ</a>
</div>
++++

Если предопределенные режимы отображения не соответствуют вашим потребностям, вы можете создать свой собственный пользовательский режим отображения с определенным диапазоном дат. Существует два способа создания пользовательского режима отображения:

* *Программно*, используя класс `CustomCalendarDisplayMode`.
* *Декларативно*, используя элемент <<custom-display-modes-element,customDisplayModes>> в XML.

Пользовательские режимы отображения должны быть основаны на одном из четырех базовых типов: day-grid, time-grid, list и multi-month.

Например, вы можете определить режим отображения, ориентированный на время, декларативно, используя следующий код:

[source,xml,indent=0]
----
include::example$fullcalendar-ex2/src/main/resources/com/company/fullcalendarsample/view/demos/displaymode/custom-display-mode-view.xml[tags=custom-display-mode1]
----

NOTE: Атрибут `dayCount` задает точное количество дней, отображаемых в пользовательском режиме отображения, независимо от свойств <<weekendsVisible, weekendsVisible>> или <<hidden-days-element, hiddenDays>>.

Вы также можете использовать элемент `duration` вместо атрибута `dayCount`, чтобы указать диапазон дат:

[source,xml,indent=0]
----
include::example$fullcalendar-ex2/src/main/resources/com/company/fullcalendarsample/view/demos/displaymode/custom-display-mode-view.xml[tags=custom-display-mode2]
----

NOTE: Когда диапазон дат задается с помощью `duration`, скрытые дни будут опущены, и режим отображения будет растянут, чтобы заполнить пустое пространство. Однако, если вы указываете `dayCount`, вы гарантированно увидите определенное количество дней.

Для программного создания пользовательских режимов отображения используйте `CustomCalendarDisplayMode`.

[source,java,indent=0]
----
include::example$fullcalendar-ex2/src/main/java/com/company/fullcalendarsample/view/demos/displaymode/CustomDisplayModeView.java[tags=custom-display-mode3]
----

TIP: Режим отображения по умолчанию - это day grid, но вы можете настроить его, выбрав другой тип из перечисления `GenericCalendarDisplayModes`.

[[display-mode-and-visible-range]]
=== Режим отображения и видимый диапазон

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.ru/ui-samples/sample/calendar-generic-calendar-display-modes" class="live-demo-btn" target="_blank">ДЕМОНСТРАЦИЯ</a>
</div>
++++

Вы можете дополнительно настроить диапазон дат, отображаемый в календаре, с помощью свойства `visibleRange`. Это свойство следует использовать в сочетании с параметрами из перечисления `GenericCalendarDisplayModes`.

Важно отметить, что `visibleRange` не имеет XML-определения и может быть настроен только программным способом.

Например, вы можете настроить календарь для отображения day grid следующим образом:

[source,xml,indent=0]
----
include::example$fullcalendar-ex2/src/main/resources/com/company/fullcalendarsample/view/demos/displaymode/visible-range-view.xml[tags=visible-range1]
----

TIP: Перечисление `GenericCalendarDisplayModes` предоставляет следующие варианты отображения в XML: `DAY_GRID`, `TIME_GRID`, `LIST` и `MULTI_MONTH`.

Установите необходимый видимый диапазон в контроллере экрана:

[source,java,indent=0]
----
include::example$fullcalendar-ex2/src/main/java/com/company/fullcalendarsample/view/demos/displaymode/VisibleRangeView.java[tags=visible-range2]
----

NOTE: Последняя дата является *исключающей*. Например, видимый диапазон с 1 октября 2024 года по 3 октября 2024 года будет отображать только два дня (1 и 2 октября).

NOTE: Когда установлен видимый диапазон, методы навигации, такие как `navigateToNext()`, не будут работать.

[[calendar-event-editing]]
== Редактирование событий календаря

`FullCalendar` позволяет редактировать события календаря путем перетаскивания для изменения даты начала и изменения размера для регулировки продолжительности. Чтобы обработать эти изменения, вам следует добавить следующие обработчики событий: <<EventDropEvent, EventDropEvent>> и <<EventResizeEvent, EventResizeEvent>>.

Компонент может изменять только три свойства <<calendar-event, CalendarEvent>> на основе изменений события:

* <<startDateTime, startDateTime>>
* <<endDateTime, endDateTime>>
* <<allDay, allDay>>

[[drag-and-drop]]
=== Перетаскивание

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.ru/ui-samples/sample/calendar-event-start-editable" class="live-demo-btn" target="_blank">ДЕМОНСТРАЦИЯ</a>
</div>
++++

Чтобы включить функцию перетаскивания, установите свойство <<eventStartEditable, eventStartEditable>> в `true`.

[source,xml,indent=0]
----
include::example$fullcalendar-ex2/src/main/resources/com/company/fullcalendarsample/view/demos/eventedit/event-edit-code-samples-view.xml[tags=event-edit-drag-and-drop1]
----

[[event-drop-event]]
==== Событие сброса события календаря

Чтобы обрабатывать изменения при сбросе события календаря, подпишитесь на <<EventDropEvent, EventDropEvent>>. Это событие испускается компонентом `FullCalendar`, когда пользователь перемещает событие календаря в другое положение.

NOTE: Прежде чем передавать событие в обработчики, компонент применяет изменения к событию календаря в поставщике данных.

Событие содержит следующую информацию:

* Сброшенное событие календаря
* Поставщик данных события календаря
* Старые значения
* Информация о текущем режиме отображения
* Дельта (продолжительность) между старой датой начала и новой датой начала
* Связанные события календаря, которые также были сброшены вместе со сброшенным событием календаря

Пример ниже демонстрирует, как немедленно сохранить изменения в событии календаря сущности:

[source,java,indent=0]
----
include::example$fullcalendar-ex2/src/main/java/com/company/fullcalendarsample/view/demos/eventedit/EventDragAndDropView.java[tags=event-edit-drag-and-drop2]
----

[[resizable]]
=== Изменяемый размер

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.ru/ui-samples/sample/calendar-event-duration-editable" class="live-demo-btn" target="_blank">ДЕМОНСТРАЦИЯ</a>
</div>
++++

Чтобы включить изменение размера событий календаря, установите свойство <<eventDurationEditable, eventDurationEditable>> в `true`. Это позволит пользователям изменять продолжительность (размер) события календаря, изменяя его конечную дату.

Чтобы изменить размер события календаря, изменяя его дату начала, установите свойство <<eventResizableFromStart, eventResizableFromStart>> в `true`:

[source,xml,indent=0]
----
include::example$fullcalendar-ex2/src/main/resources/com/company/fullcalendarsample/view/demos/eventedit/event-edit-code-samples-view.xml[tags=event-edit-resizable1]
----

[[event-resize-event]]
==== Событие изменения размера события

Чтобы обрабатывать изменения при изменении размера события календаря, подпишитесь на <<EventResizeEvent, EventResizeEvent>>. Это событие запускается компонентом `FullCalendar`, когда пользователь изменяет размер события календаря.

NOTE: Прежде чем передавать событие в обработчики, компонент применяет изменения к событию календаря в поставщике данных.

Событие содержит следующую информацию:

* Измененное событие календаря
* Поставщик данных события календаря
* Старые значения
* Информация о текущем режиме отображения
* Начальная дельта (продолжительность) между старой датой начала и новой датой начала
* Конечная дельта (продолжительность) между старой конечной датой и новой старой датой
* Связанные события календаря, которые также были изменены в размере вместе со сброшенным событием календаря

Пример ниже демонстрирует, как немедленно сохранить изменения в событии календаря сущности:

[source,java,indent=0]
----
include::example$fullcalendar-ex2/src/main/java/com/company/fullcalendarsample/view/demos/eventedit/EventResizeView.java[tags=event-edit-resizable2]
----

[[calendar-event-constraints]]
=== Ограничения событий календаря

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.ru/ui-samples/sample/calendar-event-constraint" class="live-demo-btn" target="_blank">ДЕМОНСТРАЦИЯ</a>
</div>
++++

`FullCalendar` позволяет настраивать ограничения для перетаскивания и изменения размера событий. Вы можете ограничить изменения событий тремя способами:

* *Группа идентификаторов ограничений событий*:
+
Установите значение <<eventConstraintGroupId, eventConstraintGroupId>>. Если это свойство установлено, события, которые перетаскиваются или изменяют размер, должны быть полностью заключены по крайней мере в одно из событий, связанных с указанным идентификатором группы.

* *Стандартные рабочие часы*:
+
Включите стандартные рабочие часы с помощью свойства <<eventConstraintBusinessHoursEnabled, eventConstraintBusinessHoursEnabled>>. События, которые перетаскиваются или изменяют размер, должны быть полностью заключены в рабочие часы недели. Если <<defaultBusinessHoursEnabled, defaultBusinessHoursEnabled>> установлен, стандартные рабочие часы - с понедельника по пятницу с 9:00 до 17:00. Также учитываются пользовательские рабочие часы.

* *Пользовательские рабочие часы*:
+
Установите пользовательские рабочие часы. Как и в случае со стандартными рабочими часами, события должны находиться в пределах заданных пользовательских рабочих часов.

[[event-overlap]]
=== Перекрытие событий

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.ru/ui-samples/sample/calendar-event-overlap-function" class="live-demo-btn" target="_blank">ДЕМОНСТРАЦИЯ</a>
</div>
++++

Атрибут <<eventOverlap, eventOverlap>> предоставляет альтернативный способ ограничения перетаскивания и изменения размеров событий календаря. Он управляет возможностью перекрытия событий друг другом во время перетаскивания или изменения размера. По умолчанию перекрытие разрешено.

Для более тонкой настройки вы можете использовать функцию JavaScript, чтобы определить собственные правила перекрытия.

В следующем примере показано, как разрешить перекрытие событий, длящихся весь день, только с другими событиями, длящимися весь день:

[source,java,indent=0]
----
include::example$fullcalendar-ex2/src/main/java/com/company/fullcalendarsample/view/demos/eventedit/EventOverlapView.java[tags=event-edit-event-overlap1]
----

NOTE: Определение функции JavaScript для перекрытия событий имеет приоритет над свойством <<eventOverlap, eventOverlap>>.

TIP: Вы можете найти все доступные свойства событий в https://fullcalendar.io/docs/event-object[документации FullCalendar.js]. Внутри функции JavaScript вы можете использовать <<additionalProperties,дополнительные свойства>>, доступные в объекте `extendedProps` события. Например, если событие календаря имеет дополнительное свойство под названием `myEventStatus`, вы можете получить его значение следующим образом: `stillEvent.extendedProps.myEventStatus`.

[[selection]]
== Выделение ячеек

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.ru/ui-samples/sample/calendar-selection" class="live-demo-btn" target="_blank">ДЕМОНСТРАЦИЯ</a>
</div>
++++

Функция выделения ячеек в `FullCalendar` позволяет пользователям выбирать несколько дней или временных интервалов, щелкая мышью или перетаскивая ее. Чтобы включить эту функцию, установите свойство <<selectionEnabled, selectionEnabled>> в значение `true`:

[source,xml,indent=0]
----
include::example$fullcalendar-ex2/src/main/resources/com/company/fullcalendarsample/view/demos/selection/selection-code-samples-view.xml[tags=selection-basic1]
----

[[select-event]]
=== Событие SelectEvent

Чтобы обрабатывать события выделения, подпишитесь на событие <<SelectEvent, SelectEvent>>. Это событие срабатывает компонентом `FullCalendar`, когда пользователь выбирает несколько дней или временных интервалов.

Событие содержит следующую информацию:

* Начальную дату и время.
* Конечную дату и время.
* Свойство `allDay`. Указывает, являются ли выбранные даты ячейками дня или временными интервалами.
* Информацию о текущем режиме отображения.
* Информацию о щелчке мыши.

Пример подписки на событие `SelectEvent`:

[source,java,indent=0]
----
include::example$fullcalendar-ex2/src/main/java/com/company/fullcalendarsample/view/demos/selection/SelectionSelectEventView.java[tags=selection-select-event1]
----

NOTE: Конечная дата и время являются *исключительными*. Например, если выделение охватывает весь день, и значение последней даты - `2024-10-15`, то значение свойства end date будет `2024-10-16`.

[[unselect-event]]
=== Событие UnselectEvent

Чтобы обрабатывать отмену выделения, подпишитесь на событие <<UnselectEvent, UnselectEvent>>. Это событие срабатывает компонентом `FullCalendar`, когда выделение отменяется. Оно запускается в следующих случаях:

* Пользователь щелкает в стороне от текущего выделения: это происходит, если свойство <<unselectAuto, unselectAuto>> не отключено.
* Пользователь делает новый выделение: событие срабатывает до того, как произойдет новое выделение.
* Пользователь перемещается вперед или назад по представлению календаря или переключается на другой режим.
* Вызывается метод `unselect()`.

Событие содержит следующую информацию:

* Информацию о текущем режиме отображения.
* Информацию о щелчке мыши.

Пример подписки на событие сброса выделения:

[source,java,indent=0]
----
include::example$fullcalendar-ex2/src/main/java/com/company/fullcalendarsample/view/demos/selection/SelectionUnselectEventView.java[tags=selection-unselect-event1]
----

[[select-constraints]]
=== Ограничения выделения

Ограничения выделения в `FullCalendar` похожи на <<calendar-event-constraints,ограничения событий календаря>>, но они применяются к области выделения. Эти ограничения ограничивают область выделения, основываясь на следующих параметрах:

* Свойство <<selectConstraintGroupId, selectConstraintGroupId>>: если это свойство установлено, можно выделять только даты или временные интервалы, содержащие события с указанным идентификатором группы.
* Свойство <<selectConstraintBusinessHoursEnabled, selectConstraintBusinessHoursEnabled>>: выделение можно делать только в пределах рабочих часов недели. Если свойство <<defaultBusinessHoursEnabled, defaultBusinessHoursEnabled>> установлено, рабочие часы по умолчанию - с понедельника по пятницу, с 9:00 до 17:00. Также учитываются пользовательские рабочие часы.
* Пользовательские рабочие часы: как и в случае с рабочими часами по умолчанию, выделение должно производиться в пределах пользовательских рабочих часов.

[[select-overlap]]
=== Перекрытие выделения событий

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.ru/ui-samples/sample/calendar-select-overlap-function" class="live-demo-btn" target="_blank">ДЕМОНСТРАЦИЯ</a>
</div>
++++

Атрибут <<selectOverlap, selectOverlap>> предоставляет альтернативный способ ограничения выделения в `FullCalendar`. Он управляет возможностью перекрытия области выделения с существующими событиями календаря. По умолчанию перекрытие разрешено.

Для более тонкой настройки вы можете использовать определение функции JavaScript, чтобы проверить, может ли выделение перекрываться с событием календаря.

В следующем примере показано, как разрешить выделение в ячейках, содержащих фоновые события календаря:

[source,java,indent=0]
----
include::example$fullcalendar-ex2/src/main/java/com/company/fullcalendarsample/view/demos/selection/SelectionSelectOverlapView.java[tags=selection-select-overlap1]
----

NOTE: Определение функции JavaScript для перекрытия выделения имеет приоритет над свойством <<selectOverlap, selectOverlap>>.

TIP: Вы можете найти все доступные свойства событий в https://fullcalendar.io/docs/event-object[документации FullCalendar.js^]. Внутри функции JavaScript вы можете использовать <<additionalProperties,дополнительные свойства>>, доступные в объекте `extendedProps` события. Например, если событие календаря имеет дополнительное свойство под названием `myEventStatus`, вы можете получить его значение следующим образом: `event.extendedProps.myEventStatus`.

[[programmatic-selection-control]]
=== Программное управление выделением

`FullCalendar` предоставляет следующие методы для программного выделения или отмены выделения диапазона дат:

* `select()`: выделяет диапазон дат.
* `unselect()`: очищает текущее выделение.

Следующий код выделяет диапазон дат из двух дней, включая текущий день:

[source,java,indent=0]
----
include::example$fullcalendar-ex2/src/main/java/com/company/fullcalendarsample/view/demos/selection/SelectionProgrammaticSelectionControlView.java[tags=selection-programmatic-selection-control1]
----

NOTE: Конечная дата в примере является *исключающей*, фактически выделяя текущий и следующий дни.

[[control-selection-by-a-javascript-function]]
==== Управление выделением с помощью функции JavaScript

Вы можете управлять поведением выделения для каждой ячейки с помощью функции JavaScript. Например, следующая функция позволяет выделять только вчера, сегодня и завтра:

[source,java,indent=0]
----
include::example$fullcalendar-ex2/src/main/java/com/company/fullcalendarsample/view/demos/selection/SelectionSelectAllowFunctionView.java[tags=selection-select-allow-function1]
----
<1> Параметр `selectionInfo` в этой функции содержит следующие свойства:
* `allDay`: Логическое значение, указывающее, находится ли выделение в ячейках, охватывающих весь день.
* `end`: Объект `Date`, представляющий конечную дату выделения (исключая ее).
* `endStr`: Строковое представление конечной даты.
* `start`: Объект `Date`, представляющий начальную дату выделения.
* `startStr`: Строковое представление начальной даты.

<2> Даты `start` и `end` применяются к выделению.
<3> Этот метод преобразует `LocalDate` в формат ISO с временной зоной компонента.

[[business-hours]]
== Рабочие часы

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.ru/ui-samples/sample/calendar-business-hours" class="live-demo-btn" target="_blank">ДЕМОНСТРАЦИЯ</a>
</div>
++++

Рабочие часы определяют конкретное время, в течение которого можно планировать или отображать события календаря. В компоненте `FullCalendar` есть два способа настройки рабочих часов:

* Свойство <<defaultBusinessHoursEnabled, defaultBusinessHoursEnabled>>.
* Пользовательский список определений рабочих часов. Позволяет задать пользовательские рабочие часы, переопределяя значения по умолчанию.

Вот пример настройки рабочих часов с помощью свойства `defaultBusinessHoursEnabled`:

[source,xml,indent=0]
----
include::example$fullcalendar-ex2/src/main/resources/com/company/fullcalendarsample/view/demos/businesshours/business-hours-code-samples-view.xml[tags=business-hours-code-samples1]
----

Когда определены рабочие часы, они визуально выделяются на календаре.

image::business-hours-enabled.png[align="center",width="878"]

Для более тонкой настройки рабочих часов можно задать список пользовательских рабочих часов. Это позволяет настроить разные часы для разных дней недели или даже разбить часы на сегменты (например, утренняя и вечерняя смены).

Давайте настроим график дежурств в качестве примера. По понедельникам, средам и пятницам рабочие часы с 8:00 до 12:00, а по вторникам и четвергам - с 12:00 до 18:00:

[source,xml,indent=0]
----
include::example$fullcalendar-ex2/src/main/resources/com/company/fullcalendarsample/view/demos/businesshours/business-hours-code-samples-view.xml[tags=business-hours-code-samples2]
----

NOTE: Свойства `startTime` и `endTime` соответствуют формату продолжительности ISO-8601, который совпадает с форматом, используемым классом `java.time.Duration`.

image::business-hours-custom.png[align="center",width="1048"]

[[context-menu]]
== Контекстное меню

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.ru/ui-samples/sample/calendar-context-menu" class="live-demo-btn" target="_blank">ДЕМОНСТРАЦИЯ</a>
</div>
++++

Компонент `FullCalendar` предоставляет контекстное меню через класс `FullCalendarContextMenu`.
Вы можете настроить содержимое этого меню в зависимости от щелкнутой ячейки дня или события календаря.

Однако существуют ограничения на то, где можно открыть контекстное меню:

* *События календаря*: доступно во всех режимах отображения.
* *Ячейки дня*: доступно во всех режимах отображения сетки дней и в режиме многомесячного года.
* *Временные интервалы*: недоступно.

Пример динамической обработки контекстного меню:

[source,java,indent=0]
----
include::example$fullcalendar-ex2/src/main/java/com/company/fullcalendarsample/view/demos/contextmenu/ContextMenuMenuContentView.java[tags=context-menu-menu-context1]
----
<1> Получает экземпляр контекстного меню из компонента `FullCalendar`.
<2> Устанавливает обработчик контекстного меню, позволяя вам настроить пункты меню.
<3> Удаляет все пункты меню, которые ранее находились в контекстном меню.
<4> Добавляет новый пункт меню с обработчиком щелчка.
<5> Возвращает `true`, если контекстное меню можно открыть.

image::context-menu.png[align="center",width="445"]

[[styling]]
== Стилизация

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.ru/ui-samples/sample/calendar-event-styling" class="live-demo-btn" target="_blank">ДЕМОНСТРАЦИЯ</a>
</div>
++++

Вы можете стилизовать календарь и его события с помощью CSS. Используйте инструменты разработчика браузера, чтобы проверить DOM-дерево календаря и написать CSS-селекторы.

Например, следующие селекторы изменяют цвет фона субботы и воскресенья в режимах отображения day-grid:

[source,css,indent=0]
----
include::example$fullcalendar-ex2/src/main/frontend/themes/fullcalendar-sample/styling-css-samples.css[tags=styling-css1]
----

Существуют CSS-переменные, которые `FullCalendar.js` предоставляет для настройки:

[source,css,indent=0]
----
include::example$fullcalendar-ex2/src/main/frontend/themes/fullcalendar-sample/styling-css-samples.css[tags=styling-css-variables1]
----

[[component-and-event-properties]]
=== Свойства компонента и событий

Компонент `FullCalendar` и события календаря имеют свойства, определяющие цвета событий.

Например, в следующем примере устанавливаются цвета для всех событий календаря:

[source,xml,indent=0]
----
include::example$fullcalendar-ex2/src/main/resources/com/company/fullcalendarsample/view/demos/styling/styling-properties-view.xml[tags=styling-properties1]
----

image::styling-properties1.png[align="center",width="185"]

Отдельные события календаря имеют свойства, которые могут переопределять определения цвета компонента:

[source,java,indent=0]
----
include::example$fullcalendar-ex2/src/main/java/com/company/fullcalendarsample/view/demos/styling/StylingPropertiesView.java[tags=styling-properties2]
----

image::styling-properties2.png[align="center",width="149"]

Еще один способ стилизации событий календаря - назначение имени класса событию. Это позволяет применять пользовательские стили CSS к определенным событиям.

[source,java,indent=0]
----
include::example$fullcalendar-ex2/src/main/java/com/company/fullcalendarsample/view/demos/styling/StylingPropertiesView.java[tags=styling-properties3]
----

CSS-селектор:

[source,css,indent=0]
----
include::example$fullcalendar-ex2/src/main/frontend/themes/fullcalendar-sample/styling-css-samples.css[tags=styling-properties4]
----

image::styling-properties3.png[align="center",width="186"]

[[class-names-generators]]
=== Генераторы имен классов

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.ru/ui-samples/sample/calendar-class-names-generator" class="live-demo-btn" target="_blank">ДЕМОНСТРАЦИЯ</a>
</div>
++++

Генераторы имен классов помогают создавать имена классов для элементов пользовательского интерфейса календаря, основываясь на контексте их создания.

Например, давайте выделим выходные дни с помощью <<dayHeaderClassNamesGenerator, dayHeaderClassNamesGenerator>>:

[source,java,indent=0]
----
include::example$fullcalendar-ex2/src/main/java/com/company/fullcalendarsample/view/demos/styling/StylingDayHeaderClassNamesGeneratorView.java[tags=styling-day-header-class-names-generator1]
----

Чтобы стилизовать цвета фона и текста, добавьте два CSS-селектора:

[source,css,indent=0]
----
include::example$fullcalendar-ex2/src/main/frontend/themes/fullcalendar-sample/styling-css-samples.css[tags=styling-day-header-class-names-generator2]
----

image::styling-day-header-class-names-generator1.png[align="center",width="879"]

Обратитесь к разделу <<Handlers,Обработчики>>, чтобы получить полный список генераторов имен классов.

[[localization]]
== Локализация

Локализацию можно изменить локально для одного компонента `FullCalendar` или глобально с помощью механизма сообщений.

Чтобы настроить локализацию одного компонента, используйте свойства компонента и объект `FullCalendarI18n`. Объект `FullCalendarI18n` содержит зависящие от локали свойства, некоторые из которых могут влиять на поведение компонента, например, <<firstDayOfWeek, firstDayOfWeek>>, <<direction, direction>> и другие.

Например, давайте изменим первый день недели и направление:

[source,xml,indent=0]
----
include::example$fullcalendar-ex2/src/main/resources/com/company/fullcalendarsample/view/demos/localization-single-component-view.xml[tags=localization-single-component1]
----

Программно вы можете сделать следующее:

[source,java,indent=0]
----
include::example$fullcalendar-ex2/src/main/java/com/company/fullcalendarsample/view/demos/LocalizationSingleComponentView.java[tags=localization-single-component2]
----

Чтобы изменить локализацию глобально, добавьте ключи сообщений из дополнения FullCalendar в ваш пакет сообщений. Полный список доступных сообщений можно найти в https://github.com/jmix-framework/jmix/blob/1e61c4f49db9d31045b421a4d0f33e8137a32542/jmix-translations/content/io/jmix/fullcalendarflowui/messages.properties[jmix/fullcalendarflowui/messages.properties^].

Например, вы можете перевести стандартные названия месяцев:

[source,properties,indent=0]
----
io.jmix.fullcalendarflowui.component/months=Январь, Февраль, Март, Апрель, Май, Июнь, Июль, Август, Сентябрь, Октябрь, Ноябрь, Декабрь
io.jmix.fullcalendarflowui.component/monthsShort=Янв, Фев, Мар, Апр, Май, Июн, Июл, Авг, Сен, Окт, Ноя, Дек
io.jmix.fullcalendarflowui.component/weekdays=Воскресенье, Понедельник, Вторник, Среда, Четверг, Пятница, Суббота
io.jmix.fullcalendarflowui.component/weekdaysShort=Вск, Пнд, Втр, Срд, Чтв, Птн, Сбт
io.jmix.fullcalendarflowui.component/weekdaysMin=Вс, Пн, Вт, Ср, Чт, Пт, Сб
----

NOTE: Убедитесь, что переведенные названия находятся в том же порядке, что и исходные, потому что парсер ожидает дни недели с воскресенья по субботу и месяцы с января по декабрь.

[[attributes]]
== Атрибуты

В Jmix есть множество xref:flow-ui:vc/common-attributes.adoc[общих атрибутов], которые выполняют одну и ту же функцию для всех компонентов.

Ниже приведены атрибуты, специфичные для календаря:

[cols="1h,7a,1",grid=rows,frame=none]
|===
|*Название*|*Описание*|*Значение по умолчанию*

|[[allDayMaintainDurationEnabled]]allDayMaintainDurationEnabled
|Определяет, как продолжительность события должна изменяться, когда оно перетаскивается из временного раздела в раздел "весь день" или наоборот.

- `true` - продолжительность будет примерно такой же до и после перетаскивания в раздел "весь день" или из него. "Примерно" потому, что если событие имеет продолжительность с точностью до часа, оно будет округлено до ближайшего целого дня.
- `false` - продолжительность события будет сброшена до <<defaultAllDayEventDuration, defaultAllDayEventDuration>>, если оно перетаскивается в раздел "весь день", или до <<defaultTimedEventDuration, defaultTimedEventDuration>>, если оно перетаскивается в временной раздел.
| `false`

|[[allDayText]]allDayText
|Устанавливает текст для обозначения "весь день". Текст виден в режимах отображения time-grid
|-

|[[closeHint]]closeHint
|Устанавливает подсказку для кнопки закрытия в всплывающем окне, когда вы нажимаете ссылку "подробнее".
|-

|[[dateAlignment]]dateAlignment
|Устанавливает первую видимую дату в режиме <<custom-calendar-display-mode, CustomCalendarDisplayMode>>.

Когда используется режим отображения пользовательского календаря, и вы хотите гарантировать, что календарь начинается с определенного интервала, например, начала недели или начала месяца, укажите значение, например, `week` или `month`. Если свойство не указано, будет сгенерировано разумное значение по умолчанию на основе продолжительности режима отображения.

Если диапазон режима отображения явно определен видимым диапазоном дат, это свойство будет проигнорировано.
|-

|[[dayHeadersVisible]]dayHeadersVisible
|Определяет, должны ли отображаться заголовки дней. Работает для режимов отображения day-grid, time-grid и month.
|`true`

|[[dayMaxEventRows]]dayMaxEventRows
|Устанавливает количество строк событий в режимах отображения day-grid и в разделе "весь день" в режимах отображения time-grid.

Обратите внимание, что строка "подробнее" включена в подсчет. Например, если значение равно `1`, будет показана только строка "подробнее". Имеет приоритет над <<defaultDayMaxEventRowsEnabled, defaultDayMaxEventRowsEnabled>>.
|-

|[[dayMaxEvents]]dayMaxEvents
|Устанавливает количество строк событий в режимах отображения day-grid и в разделе "весь день" в режимах отображения time-grid.

Обратите внимание, что строка "+ подробнее" не включена в подсчет. Например, если значение равно `1`, будет показано одно событие и строка "подробнее". Имеет приоритет над <<defaultDayMaxEventsEnabled, defaultDayMaxEventsEnabled>>.
|-

|[[dayOfYear]]dayOfYear
|Правило определения первой недели года. Например, если первый день недели равен `1`, а день года равен `4`, это означает, что неделя, содержащая `4 января`, является первой неделей года.
|-

|[[defaultAllDay]]defaultAllDay
|Устанавливает значение по умолчанию для свойства <<allDay, allDay>> каждого события календаря, если оно не указано.

Если свойство установлено в `true`, все события без свойства <<allDay, allDay>> (например, не указано сопоставление в поставщике данных или событие календаря возвращает `null` для этого свойства) будут считаться событиями, охватывающими весь день.

Обратите внимание, что в этом случае события без свойства <<allDay, allDay>> будут отображаться как события, охватывающие весь день. Если такое событие будет изменено путем перетаскивания или изменения размера, и у вас есть обработчики для этих событий, компонент применит изменения к событию календаря, что может привести к изменению экземпляра сущности/DTO.
|`false`

|[[defaultAllDayEventDuration]]defaultAllDayEventDuration
|Устанавливает продолжительность по умолчанию для событий, охватывающих весь день, если они не задают свойство <<endDateTime, endDateTime>>.

Например, свойство установлено в 2 дня. Событие, у которого свойство <<allDay, allDay>> равно `true`, и у которого нет свойства <<endDateTime, endDateTime>>, будет отображаться в разделе "весь день" и будет занимать два дня.

Обратите внимание, что свойство <<endDateTime, endDateTime>> события календаря останется незаданным, если <<forceEventDuration, forceEventDuration>> не установлен в `true`. В этом случае календарь явно назначит конечную дату и время событию. Если такое событие будет изменено путем перетаскивания или изменения размера, и у вас есть обработчики для этих событий, компонент установит для события календаря значение конечной даты и времени, что может привести к изменению экземпляра сущности/DTO.

Это свойство влияет только на события со свойством <<allDay, allDay>>, равным `true`.
|`P1d`

|[[defaultBusinessHoursEnabled]]defaultBusinessHoursEnabled
|Включает рабочие часы по умолчанию. Рабочие часы по умолчанию: понедельник - пятница с 9:00 до 17:00.
|`false`

|[[defaultDayHeaderFormat]]defaultDayHeaderFormat
|Устанавливает формат текста, который будет отображаться в заголовках столбцов календаря.

По умолчанию компонент устанавливает локализованный формат из сообщений при создании. Это свойство действует как формат по умолчанию для всех режимов отображения и для <<custom-calendar-display-mode, CustomCalendarDisplayMode>>, пока для этих режимов отображения не будет установлено конкретное свойство. Однако все объекты свойств режимов отображения по умолчанию явно задают формат, таким образом, они переопределяют это свойство.

Поскольку компонент использует плагин https://fullcalendar.io/docs/moment-plugin[moment^] для `FullCalendar`, вы должны следовать правилам форматирования `moment.js`: https://momentjs.com/docs/#/displaying/format/[Документация Moment.js^]. Например, `dd` создает значение `Mo`.

Изменение свойства не применяется после того, как компонент прикреплен к UI.
|-

|[[defaultDayMaxEventRowsEnabled]]defaultDayMaxEventRowsEnabled
|Ограничивает максимальное количество накладывающихся друг на друга событий в пределах заданного дня.

- `true` - ограничивает количество событий высотой ячейки дня.
- `false` - компонент отображает все события как есть.

Это свойство применяется для режимов отображения day-grid и в ячейках "весь день".

|`false`

|[[defaultDayMaxEventsEnabled]]defaultDayMaxEventsEnabled
|Ограничивает максимальное количество накладывающихся друг на друга событий в пределах заданного дня.

- `true` - ограничивает количество событий высотой ячейки дня.
- `false` - компонент отображает все события как есть.

Это свойство применяется для режимов отображения day-grid и в ячейках "весь день".
|`false`

|[[defaultDayPopoverFormat]]defaultDayPopoverFormat
|Устанавливает формат даты заголовка всплывающего окна, которое отображается при нажатии на ссылку "подробнее". По умолчанию компонент устанавливает локализованный формат из сообщений при создании.

Это свойство действует как формат по умолчанию для всех режимов отображения и для <<custom-calendar-display-mode, CustomCalendarDisplayMode>>, пока для этих режимов отображения не будет установлено конкретное свойство. Однако все объекты свойств режимов отображения по умолчанию явно задают формат, таким образом, они переопределяют это свойство.

Поскольку компонент использует плагин https://fullcalendar.io/docs/moment-plugin[moment^] для `FullCalendar`, вы должны следовать правилам форматирования `moment.js`: https://momentjs.com/docs/#/displaying/format/[Документация Moment.js^]. Например, `MMM D, YY` создает значение `Sep 9, 24`.

Изменение свойства не применяется после того, как компонент прикреплен к UI.
|-

|[[defaultEventTimeFormat]]defaultEventTimeFormat
|Устанавливает формат текста времени, который будет отображаться на каждом событии. По умолчанию компонент устанавливает локализованный формат из сообщений при создании.

Это свойство действует как формат по умолчанию для всех режимов отображения и для <<custom-calendar-display-mode, CustomCalendarDisplayMode>>, пока для этих режимов отображения не будет установлено конкретное свойство. Однако все объекты свойств режимов отображения по умолчанию явно задают формат, таким образом, они переопределяют это свойство.

Поскольку компонент использует плагин https://fullcalendar.io/docs/moment-plugin[moment^] для `FullCalendar`, вы должны следовать правилам форматирования `moment.js`: https://momentjs.com/docs/#/displaying/format/[Документация Moment.js^]. Например, `HH:mm` создает значение `00:00` (01, 2, ... 23 : 01, 02 ... 59).

Изменение свойства не применяется после того, как компонент прикреплен к UI.
|-

|[[defaultSlotLabelFormat]]defaultSlotLabelFormat
|Устанавливает формат текста, который будет отображаться в пределах временного интервала. По умолчанию компонент устанавливает локализованный формат из сообщений при создании.

Это свойство действует как формат по умолчанию для всех режимов отображения и для <<custom-calendar-display-mode, CustomCalendarDisplayMode>>, пока для этих режимов отображения не будет установлено конкретное свойство. Однако все объекты свойств режимов отображения по умолчанию явно задают формат, таким образом, они переопределяют это свойство.

Поскольку компонент использует плагин https://fullcalendar.io/docs/moment-plugin[moment^] для `FullCalendar`, вы должны следовать правилам форматирования `moment.js`: https://momentjs.com/docs/#/displaying/format/[Документация Moment.js^]. Например, `ha` создает значение `1 am` (1, 2, ... 12 am/ pm).

Изменение свойства не применяется после того, как компонент прикреплен к UI.
|-

|[[defaultTimedEventDuration]]defaultTimedEventDuration
|Устанавливает продолжительность по умолчанию для событий, привязанных к времени, если они не задают свойство <<endDateTime, endDateTime>>.

Например, свойство установлено в 2 часа. Событие, у которого свойство <<allDay, allDay>> равно `false`, и у которого нет свойства <<endDateTime, endDateTime>>, будет занимать два часа в временных интервалах.

Обратите внимание, что свойство <<endDateTime, endDateTime>> события календаря останется незаданным, если <<forceEventDuration, forceEventDuration>> не установлен в `true`. В этом случае календарь явно назначит конечную дату событию. Если такое событие будет изменено путем перетаскивания или изменения размера, и у вас есть обработчики для этих событий, компонент установит для события календаря новое значение свойства <<endDateTime, endDateTime>>, что может привести к изменению экземпляра сущности/DTO.

Это свойство влияет только на события со свойством `allDay`, равным `false`.
|`PT1h`

|[[defaultWeekNumberFormat]]defaultWeekNumberFormat
|Устанавливает формат номера недели, который будет отображаться, когда <<weekNumbersVisible, weekNumbersVisible>> равно `true`. По умолчанию компонент устанавливает локализованный формат из сообщений при создании.

Это свойство действует как формат по умолчанию для всех режимов отображения и для <<custom-calendar-display-mode, CustomCalendarDisplayMode>>, пока для этих режимов отображения не будет установлено конкретное свойство. Однако все объекты свойств режимов отображения по умолчанию явно задают формат, таким образом, они переопределяют это свойство.

Поскольку компонент использует плагин https://fullcalendar.io/docs/moment-plugin[moment^] для `FullCalendar`, вы должны следовать правилам форматирования `moment.js`: https://momentjs.com/docs/#/displaying/format/[Документация Moment.js^]. Например, `[Week] w` создает значение `Week 1` (1, 2, ... 52, 53).

Изменение свойства не применяется после того, как компонент прикреплен к UI.
|-

|[[direction]]direction
|Направление, в котором должен быть написан текст. Также перестраивает компоновку.
|-

|[[displayEventTime]]displayEventTime
|Определяет видимость текста времени для каждого события.

Свойство применяется к событиям, привязанным к времени (не к событиям "весь день"). Если установлено в `true`, текст времени будет всегда отображаться на событии. Если установлено в `false`, текст времени никогда не будет отображаться на событии. События, охватывающие весь день, все равно никогда не будут отображать текст времени.

|`true`

|[[dragRevertDuration]]dragRevertDuration
|Устанавливает время, за которое событие возвращается в исходное положение после неудачного перетаскивания.

|`500`

|[[dragScroll]]dragScroll
|Включает автоматическую прокрутку контейнеров прокрутки во время перетаскивания и отбрасывания событий, а также выбора даты.

Изменение свойства не применяется после того, как компонент прикреплен к UI.
|`true`

|[[eventBackgroundColor]]eventBackgroundColor
|Устанавливает цвет фона для всех событий в календаре.

Обратите внимание, что события календаря могут переопределить это значение, если они задают свойство <<backgroundColor, backgroundColor>>.

Поддерживаемые значения:

- `#f00`
- `#ff0000`
- `rgb(255,0,0)`
- Имя цвета - `red`
|-

|[[eventBorderColor]]eventBorderColor
|Устанавливает цвет границы для всех событий в календаре.

Обратите внимание, что события календаря могут переопределить это значение, если они задают свойство <<borderColor, borderColor>>.

Поддерживаемые значения:

- `#f00`
- `#ff0000`
- `rgb(255,0,0)`
- Имя цвета - `red`
|-

|[[eventConstraintBusinessHoursEnabled]]eventConstraintBusinessHoursEnabled
|Устанавливает, должны ли события, которые перетаскиваются или изменяются в размере, полностью находиться в пределах рабочих часов недели. Также учитываются пользовательские рабочие часы.
| `false`

|[[eventConstraintGroupId]]eventConstraintGroupId
|Устанавливает идентификатор группы, чтобы ограничить перетаскивание и изменение размера событий. События, которые перетаскиваются или изменяются в размере, должны быть полностью заключены по крайней мере в одно из событий, связанных с заданным идентификатором группы.

Имеет приоритет над <<eventConstraintBusinessHoursEnabled, eventConstraintBusinessHoursEnabled>>.

Идентификатор группы может быть экземпляром сущности, строкой, перечислением или другим типом.
|-

|[[eventDisplay]]eventDisplay
|Устанавливает режим отображения, который управляет внешним видом всех событий, не указывающих режим отображения.

Чтобы управлять отображением конкретных событий, используйте свойство <<display, display>> события календаря.
|`AUTO`

|[[eventDragMinDistance]]eventDragMinDistance
|Устанавливает, на сколько пикселей пользователь должен переместить мышь/касание, прежде чем активируется перетаскивание события.
|`5`

|[[eventDurationEditable]]eventDurationEditable
|Включает возможность редактирования продолжительности события с помощью изменения размера. Это свойство может быть переопределено для каждого события свойством <<durationEditable, durationEditable>>.
|`false`

|[[eventHint]]eventHint
|Устанавливает для невидимого заголовка таблицы в режиме отображения списка имя столбца с названиями событий.
|-

|[[eventInteractive]]eventInteractive
|Включает возможность редактирования продолжительности события с помощью изменения размера.

Это свойство может быть переопределено для каждого события свойством <<interactive, interactive>>.
|`false`

|[[eventLongPressDelay]]eventLongPressDelay
|Устанавливает время, в миллисекундах, которое пользователь должен удерживать, прежде чем событие станет перетаскиваемым на сенсорных устройствах.
|`1000`

|[[eventMaxStack]]eventMaxStack
|Устанавливает максимальное количество событий, которые располагаются друг над другом в режимах отображения time-grid.
|-

|[[eventOrder]]eventOrder
|Устанавливает список свойств события календаря, которые должны участвовать в сортировке. Также можно указывать свойства из свойства <<additionalProperties, additionalProperties>> события.

Для большинства режимов отображения календаря это свойство определяет вертикальное упорядочение событий в пределах одного дня. Однако для режимов отображения time-grid оно определяет горизонтальное упорядочение событий в пределах одного временного интервала.

Значение по умолчанию ставит ранние события первыми. Если они равны, то ставит более продолжительные события первыми. Если они все еще равны, то ставит события, охватывающие весь день, первыми. Если они все еще равны, то сортирует события по названию, в алфавитном порядке.

Если помещение события с более низким приоритетом перед событием с более высоким приоритетом улучшает компактность, алгоритм сделает это. Чтобы отключить это поведение, установите <<eventOrderStrict, eventOrderStrict>> в `true`.

Предоставленные свойства сортируются в порядке возрастания. Если свойство имеет префикс в виде минуса, например, `-title`, сортировка будет производиться в порядке убывания.
|`start,-duration,allDay,title`

|[[eventOrderStrict]]eventOrderStrict
|Включает возможность строго следовать заданному порядку событий.

Значение `false` означает, что порядок событий не строгий, и компактность будет иметь приоритет над точным соблюдением порядка событий.
|`false`

|[[eventOverlap]]eventOverlap
|Разрешает событиям перекрываться друг с другом во время перетаскивания и изменения размера.
|`true`

|[[eventResizableFromStart]]eventResizableFromStart
|Включает возможность изменения размера события с его начальной даты.
|`false`

|[[eventStartEditable]]eventStartEditable
|Включает возможность редактирования времени начала события с помощью перетаскивания.

Это свойство может быть переопределено для каждого события свойством <<startEditable, startEditable>>.
|`false`

|[[eventTextColor]]eventTextColor
|Устанавливает цвет текста для всех событий в календаре.

Обратите внимание, что события календаря могут переопределить это значение, если они задают свойство <<textColor, textColor>>.

Поддерживаемые значения:

- `#f00`
- `#ff0000`
- `rgb(255,0,0)`
- Имя цвета - `red`

Цвет применяется в режимах отображения time-grid и для событий, охватывающих весь день, в режимах отображения day-grid.
|-

|[[expandRows]]expandRows
|Включает возможность расширения строк режимов отображения time-grid, если они не занимают всю высоту.
|`false`

|[[firstDayOfWeek]]firstDayOfWeek
|Устанавливает день, с которого начинается каждая неделя. Значение по умолчанию берется из локали.
|-

|[[forceEventDuration]]forceEventDuration
|Заставляет компонент назначать свойству <<endDateTime, endDateTime>> значение для событий, если у них его нет.

Обратите внимание, что если событие не задает свойство <<endDateTime, endDateTime>>, компонент явно установит его. Если такое событие будет изменено путем перетаскивания или изменения размера, и у вас есть обработчики для этих событий, компонент установит для события календаря новое значение свойства <<endDateTime, endDateTime>>, что может привести к изменению экземпляра сущности/DTO.
|`false`

|[[initialDate]]initialDate
|Устанавливает начальную дату, которая будет отображаться при присоединении компонента к UI. Если не указано, будет использоваться текущая дата.

Изменение свойства не применяется после того, как компонент прикреплен к UI.
|-

|[[initialDisplayMode]]initialDisplayMode
|Устанавливает начальный режим отображения календаря, который будет показан после присоединения компонента к UI.

Изменение свойства не применяется после того, как компонент прикреплен к UI.
|`DAY_GRID_MONTH`

|[[moreLinkClassNames]]moreLinkClassNames
|Устанавливает CSS-классы, которые должны быть добавлены к ссылке "подробнее".
|-

|[[moreLinkDisplayMode]]moreLinkDisplayMode
|Устанавливает режим отображения календаря, который должен быть показан при нажатии на ссылку "подробнее".
|-

|[[moreLinkHint]]moreLinkHint
|Устанавливает подсказку для ссылки "подробнее". Предоставленный текст может быть строкой https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals[JavaScript-шаблона^]. Этот шаблон принимает параметр `count` типа `Number`, например:

[source,java]
----
setMoreLinkHint("Show ${count} more event${count === 1 ? '' : 's'}");
----

Он также принимает строковое определение функции JavaScript, которая принимает `count` в качестве параметра. Например:

[source,java]
----
setMoreLinkHint("function (count) { return `Show ${count} more event${count === 1 ? '' : 's'}`; }");
----
|-

|[[moreLinkText]]moreLinkText
|Устанавливает текст ссылки "подробнее". Предоставленный текст может быть строкой https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals[JavaScript-шаблона^]. Этот шаблон принимает параметр `count`, например:

[source,java]
----
setMoreLinkText("+${count} event(s)");
----

Он также принимает строковое определение функции JavaScript, которая принимает `count` в качестве параметра. Например:

[source,java]
----
setMoreLinkText("function (count) { return `See +${count} event` + (count === 1 ? '' : 's'); }");
----
|-

|[[navLinkHint]]navLinkHint
|Устанавливает подсказку для текста ссылок навигации. Предоставленный текст может быть строкой https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals[JavaScript-шаблона^]. Этот шаблон принимает параметр `date` типа `String`, например:

[source,java]
----
setNavLinkHint("Navigate to ${date}");
----

Он также принимает строковое определение функции JavaScript, которая принимает `date` в качестве параметра типа `String`. Например:

[source,java]
----
setNavLinkHint("function (date) { return `Navigate to ${date}`; }");
----
|-

|[[navigationLinksEnabled]]navigationLinksEnabled
|Включает навигацию к дате с помощью названий дней и названий недель.
|`false`

|[[nextDayThreshold]]nextDayThreshold
|Устанавливает минимальное время, которого должно достичь свойство <<endDateTime, endDateTime>> события, чтобы событие отображалось так, как будто оно находится в этот день.

Например, свойство установлено в `09:00:00`. И есть событие с датами:

- начало - `2024-09-01T20:00:00`;
- конец - `2024-09-02T02:00:00`;

Таким образом, событие охватывает другой день, но оно будет отображаться как однодневное событие, поскольку свойство `nextDayThreshold` задано. Однако, если событие имеет конечную дату `2024-09-02T10:00:00`, оно будет отображаться как двухдневное событие.

Влияет только на события, привязанные к времени, которые отображаются в ячейках "весь день". Ячейки "весь день" встречаются в режимах отображения day-grid и в слотах "весь день" в режимах отображения time-grid.

Обратите внимание, что это свойство игнорируется, когда свойство <<allDay, allDay>> события установлено в `true`.
|-

|[[noEventsText]]noEventsText
|Устанавливает текст, который будет отображаться, когда в режимах отображения list не отображаются никакие события.
|-

|[[nowIndicatorVisible]]nowIndicatorVisible
|Включает отображение маркера, указывающего текущее время. Это свойство применяется в режимах отображения time-grid.

Изменение свойства не применяется после того, как компонент прикреплен к UI.
|`false`

|[[progressiveEventRendering]]progressiveEventRendering
|Включает отрисовку событий из поставщика данных сразу после загрузки событий.

- `true` - отрисовывает каждый поставщик данных по мере его получения. Приведет к большему количеству отрисовок.
- `false` - ожидает, пока все поставщики данных получат свои данные, а затем отрисовывает все сразу, что приводит к меньшему количеству отрисовок.
|`false`

|[[scrollTime]]scrollTime
|Устанавливает начальное положение прокрутки на определенное время. Пользователи смогут прокрутить назад, чтобы просмотреть события до этого времени. Если вы хотите запретить пользователям делать это, вместо этого используйте <<slotMinTime, slotMinTime>>.

По умолчанию время прокрутки применяется к календарю всякий раз, когда изменяется диапазон дат. Чтобы отключить это, установите <<scrollTimeReset, scrollTimeReset>> в `false`.

Изменение свойства не применяется после того, как компонент прикреплен к UI.
|`PT6h`

|[[scrollTimeReset]]scrollTimeReset
|Устанавливает, должен ли календарь прокручиваться до <<scrollTime, scrollTime>> каждый раз, когда изменяется диапазон дат.

По умолчанию всякий раз, когда изменяется диапазон дат, как через методы календаря, так и через действия пользователя, прокрутка сбрасывается. Чтобы отключить это поведение, установите свойство в `false`.
|`true`

|[[selectConstraintBusinessHoursEnabled]]selectConstraintBusinessHoursEnabled
|Устанавливает, должно ли выделение полностью находиться в пределах рабочих часов недели. Также учитываются пользовательские рабочие часы.

Это свойство будет применено, если <<selectionEnabled, selectionEnabled>> включен.
|`false`

|[[selectConstraintGroupId]]selectConstraintGroupId
|Устанавливает идентификатор группы, чтобы ограничить выделение. Если установлен идентификатор группы, можно выбирать только ячейки с событиями, которые содержат тот же идентификатор группы. Имеет приоритет над <<selectConstraintBusinessHoursEnabled, selectConstraintBusinessHoursEnabled>>.

Это свойство будет применено, если <<selectionEnabled, selectionEnabled>> включен.
|

|[[selectLongPressDelay]]selectLongPressDelay
|Устанавливает время, в миллисекундах, которое пользователь должен удерживать, прежде чем станет возможным выбрать дату на сенсорных устройствах.
|`1000`

|[[selectMinDistance]]selectMinDistance
|Устанавливает минимальное расстояние, на которое мышь пользователя должна переместиться после нажатия, прежде чем будет разрешено выделение. Ненулевое значение полезно для различения выделения и события нажатия на дату.

Это свойство применимо только к взаимодействию с мышью. Для взаимодействия с сенсорным экраном смотрите <<selectLongPressDelay, selectLongPressDelay>>.

Изменение свойства не применяется после того, как компонент прикреплен к UI.
|`0`

|[[selectMirror]]selectMirror
|Включает рисование заполнителя события во время перетаскивания пользователем. Это свойство применяется к режимам отображения time-grid.
|`false`

|[[selectOverlap]]selectOverlap
|Позволяет выбирать ячейки, содержащие события.
|`true`

|[[selectionEnabled]]selectionEnabled
|Позволяет пользователю выделять несколько дней или временных интервалов с помощью щелчка и перетаскивания.
|`false`

|[[slotDuration]]slotDuration
|Устанавливает интервал, с которым отображаются временные интервалы.

В определении компонента XML значение атрибута должно соответствовать формату продолжительности ISO-8601, который используется классом `java.time.Duration`.
|`PT30m`

|[[slotLabelInterval]]slotLabelInterval
|Устанавливает частоту маркировки временных интервалов текстом. Если не указано, разумное значение будет автоматически вычислено на основе <<slotDuration, slotDuration>>.

При указании этого свойства задайте значение 1 час, это приведет к появлению заголовков на отметках времени, даже если <<slotDuration, slotDuration>> гипотетически составляет 15 или 30 минут.

В определении компонента XML значение атрибута должно соответствовать формату продолжительности ISO-8601, который используется классом `java.time.Duration`.
|-

|[[slotMaxTime]]slotMaxTime
|Устанавливает последний временной интервал, который будет отображаться для каждого дня. Указанное значение представляет исключительное время окончания, то есть временной интервал, заканчивающийся этим значением, не будет включен. Свойство определяет последний слот, даже когда полосы прокрутки прокручены до упора.

В определении компонента XML значение атрибута должно соответствовать формату продолжительности ISO-8601, который используется классом `java.time.Duration`.
|`PT24h`

|[[slotMinTime]]slotMinTime
|Устанавливает первый временной интервал, который будет отображаться для каждого дня. Свойство определяет первый временной слот, даже когда полосы прокрутки прокручены до упора.

В определении компонента XML значение атрибута должно соответствовать формату продолжительности ISO-8601, который используется классом java.time.`Duration`.
|`PT0h`

|[[snapDuration]]snapDuration
|Устанавливает значение, которое определяет временной интервал, при котором перетаскиваемое событие будет привязываться к временной оси. Это также влияет на точность, с которой можно делать выделения.

В определении компонента XML значение атрибута должно соответствовать формату продолжительности ISO-8601, который используется классом `java.time.Duration`.
|`PT30m`

|[[timeHint]]timeHint
|Устанавливает для невидимого заголовка таблицы в режимах отображения list название столбца с днями и временем.
|-

|[[unselectAuto]]unselectAuto
|Устанавливает, очищается ли текущий выбор при щелчке в другом месте страницы. Работает только если <<selectionEnabled, selectionEnabled>> имеет значение `true`.

Изменение свойства не применяется после того, как компонент прикреплен к UI.
|`true`

|[[unselectCancelSelector]]unselectCancelSelector
|Устанавливает CSS-селектор, который будет игнорировать свойство <<unselectAuto, unselectAuto>>. Например:

`vaadin-form-layout .custom-text-input`

Изменение свойства не применяется после того, как компонент прикреплен к UI.
|-

|[[weekNumbersVisible]]weekNumbersVisible
|Устанавливает, должны ли номера недель отображаться в календаре.
|`false`

|[[weekTextLong]]weekTextLong
|Длинное название недели.
|-

|[[weekendsVisible]]weekendsVisible
|Устанавливает, включать ли столбцы субботы и воскресенья в любой из режимов отображения календаря.
|`true`

|[[windowResizeDelay]]windowResizeDelay
|Устанавливает задержку, в миллисекундах, которую календарь будет ждать, прежде чем корректировать свой размер после изменения размера окна.
|`100`

|===

[[handlers]]
== Обработчики

В Jmix есть много xref:flow-ui:vc/common-handlers.adoc[общих обработчиков], которые настраиваются одинаково для всех компонентов. Ниже приведены обработчики, специфичные для календаря:

include::flow-ui:vc/handler-generation-tip.adoc[]

[cols="1h,6a",grid=rows,frame=none]
|===
|*Название*|*Описание*

|[[DateClickEvent]]DateClickEvent
|`io.jmix.fullcalendarflowui.component.event.DateClickEvent` отправляется, когда нажимается ячейка дня или ячейка времени.

|[[DatesSetEvent]]DatesSetEvent
|`io.jmix.fullcalendarflowui.component.event.DatesSetEvent` отправляется после того, как диапазон дат календаря был первоначально установлен или изменен каким-либо образом, и DOM компонента был обновлен.

Даты календаря могут изменяться всякий раз, когда пользователь выполняет следующие действия:

- переходит к следующей и предыдущей;
- переключает режим отображения;
- нажимает на ссылку навигации (например, "неделя" или "день", если <<navigationLinksEnabled, navigationLinksEnabled>> равно `true`).

Даты также могут измениться, когда текущая дата изменяется через API.

|[[DayNavigationLinkClickEvent]]DayNavigationLinkClickEvent
|Отправляется, когда пользователь нажимает на ссылку навигации заголовка дня. Ссылка навигации может быть активирована свойствомFired <<navigationLinksEnabled, navigationLinksEnabled>>.

|[[EventClickEvent]]EventClickEvent
|`io.jmix.fullcalendarflowui.component.event.EventClickEvent` отправляется, когда происходит нажатие на событие календаря.

|[[EventDropEvent]]EventDropEvent
|`io.jmix.fullcalendarflowui.component.event.EventDropEvent` отправляется, когда перетаскивание останавливается, и событие было перемещено в другой день или временной интервал.

|[[EventMouseEnterEvent]]EventMouseEnterEvent
|`io.jmix.fullcalendarflowui.component.event.EventMouseEnterEvent` вызывается, когда пользователь наводит мышь на событие календаря.

|[[EventMouseLeaveEvent]]EventMouseLeaveEvent
|`io.jmix.fullcalendarflowui.component.event.EventMouseLeaveEvent` вызывается, когда пользователь уводит мышь с события календаря.

|[[EventResizeEvent]]EventResizeEvent
|`io.jmix.fullcalendarflowui.component.event.EventResizeEvent` вызывается, когда завершается изменение размера, и длительность события календаря изменяется.

|[[MoreLinkClickEvent]]MoreLinkClickEvent
|`io.jmix.fullcalendarflowui.component.event.MoreLinkClickEvent` вызывается, когда пользователь нажимает на ссылку «more». Ссылку «more» можно активировать с помощью следующих свойств:

- <<defaultDayMaxEventRowsEnabled, defaultDayMaxEventRowsEnabled>>
- <<dayMaxEventRows, dayMaxEventRows>>
- <<defaultDayMaxEventsEnabled, defaultDayMaxEventsEnabled>>
- <<dayMaxEvents, dayMaxEvents>>

|[[SelectEvent]]SelectEvent
|`io.jmix.fullcalendarflowui.component.event.SelectEvent` вызывается при выделении даты или времени.

Режим выделения можно включить с помощью свойства <<selectionEnabled, selectionEnabled>>.

|[[UnselectEvent]]UnselectEvent
|`io.jmix.fullcalendarflowui.component.event.UnselectEvent` вызывается, когда текущее выделение очищается. Выделение может быть очищено по нескольким причинам:

* Пользователь щелкает мышью вне текущего выделения (не происходит, когда <<unselectAuto, unselectAuto>> отключен).
* Пользователь делает новый выделение. Событие отмены выделения будет вызвано до того, как произойдет новое выделение.
* Пользователь переходит вперед или назад в текущем режиме отображения календаря или переключается в другой режим.
* Вызывается метод `unselect()`.

|[[WeekNavigationLinkClickEvent]]WeekNavigationLinkClickEvent
|Вызывается, когда пользователь нажимает на навигационную ссылку с номером недели.

Навигационную ссылку можно активировать с помощью свойства <<navigationLinksEnabled, navigationLinksEnabled>>.

|[[dayCellBottomTextClassNamesGenerator]]dayCellBottomText-
ClassNamesGenerator
|Генерирует имена классов CSS для нижнего текста ячейки дня.

Обратите внимание, что генератор будет вызван только в том случае, если нижний текст ячейки не равен null.

|[[dayCellBottomTextGenerator]]dayCellBottomTextGenerator
|Генерирует нижний текст для ячеек дня. Применяется только для режимов отображения day-grid month и year.

Обратите внимание, что в некоторых случаях события в ячейке могут перекрывать текст внизу. Чтобы избежать этого, рекомендуется ограничить видимое количество событий. Например, можно использовать свойство <<dayMaxEvents, dayMaxEvents>>.

|[[dayCellClassNamesGenerator]]dayCellClassNamesGenerator
|Генерирует имена классов CSS для ячеек дня. Ячейка дня отображается в режиме отображения day-grid и time-grid как ячейка на весь день.

|[[dayHeaderClassNamesGenerator]]dayHeaderClassNamesGenerator
|Генерирует имена классов CSS для заголовков дня. Заголовок дня - это ячейка, которая показывает день недели и дату в некоторых режимах отображения.

|[[moreLinkClassNamesGenerator]]moreLinkClassNamesGenerator
|Генерирует имена классов CSS для ссылки «more».

Генератор имеет приоритет над другими методами, которые устанавливают имена классов CSS.

|[[nowIndicatorClassNamesGenerator]]nowIndicatorClassNamesGenerator
|Генерирует имена классов CSS для индикатора «сейчас». Индикатор «сейчас» состоит из двух частей: линии и оси.

Индикатор «сейчас» можно включить с помощью свойства <<nowIndicatorVisible, nowIndicatorVisible>>.

|[[slotLabelClassNamesGenerator]]slotLabelClassNamesGenerator
|Генерирует имена классов CSS для метки слота, которая отображается как ячейка с меткой времени в режимах отображения time-grid.
|===

== Элементы

Элементы календаря предоставляют широкий спектр опций для управления внешним видом, поведением, форматированием, привязкой данных и другими функциями.

[TIP]
====
Чтобы добавить элемент в выбранный компонент, нажмите кнопку xref:studio:screen-designer.adoc#component-inspector[Add] на панели инспектора *Jmix UI*.
====

[[business-hours-element]]
=== businessHours

`businessHours` - это групповой элемент, который содержит записи рабочего времени.

[cols="1h,6",grid=none]
|===
|XML-элемент
|`businessHours`

|Элементы
|<<entry-element, entry>>
|===

[[entry-element]]
==== entry

Определение рабочего времени.

[cols="1h,6",grid=none]
|===
|XML-элемент
|`entry`

|Элементы
|<<day-element, day>>
|===

.Атрибуты
[cols="1h,5a,1",grid=rows,caption=]
|===
|*Название*
|*Описание*
|*Значение по умолчанию*

|endTime
|Конечное время рабочего времени. Значение времени должно быть в формате продолжительности ISO-8601, который используется классом `java.time.Duration`. Например:

* `"P9h"` - 9 часов.
* `"PT18h30m"` - 18 часов и 30 минут.

|-

|startTime
|Начало рабочего времени. Значение времени должно быть в формате продолжительности ISO-8601, который используется классом `java.time.Duration`. Например:

* `"P9h"` - 9 часов.
* `"PT18h30m"` - 18 часов и 30 минут.
|-
|===

[[custom-display-modes-element]]
=== customDisplayModes

`customDisplayModes` - групповой элемент, содержащий определения настраиваемых режимов отображения, которые может использовать компонент.

[cols="1h,6",grid=none]
|===
|XML-элемент
|`customDisplayModes`

|Элементы
|<<displayMode, displayMode>>
|===

==== displayMode

Определение настраиваемого режима отображения.

[cols="1h,6",grid=none]
|===
|XML-элемент
|`displayMode`

|Элементы
|<<duration, duration>> -
<<properties, properties>>
|===

.Атрибуты
[cols="1h,5,1",grid=rows,caption=]
|===
|*Название*
|*Описание*
|*Значение по умолчанию*

|id
|Обязательный атрибут. Идентификатор можно использовать для установки в качестве начального или текущего режима отображения.
|-

|type
|Тип, на котором будет основан настраиваемый режим отображения. Подробнее смотрите <<custom-calendar-display-mode, Пользовательский режим отображения календаря>>.
| `DAY_GRID`

|dayCount
|Точное количество дней, отображаемых в настраиваемом режиме отображения.
|-
|===

[[duration]]
==== duration

Описывает продолжительность настраиваемого режима отображения календаря.

[cols="1h,6",grid=none]
|===
|XML-элемент
|`duration`

|Элементы
|-
|===

.Атрибуты
[cols="1h,5,1",grid=rows,caption=]
|===
|*Название*
|*Описание*
|*Значение по умолчанию*

|days
|Устанавливает дни для продолжительности.
|0

|hours
|Устанавливает часы для продолжительности.
|0

|milliseconds
|Устанавливает миллисекунды для продолжительности.

|0

|minutes
|Устанавливает минуты для продолжительности.
|0

|months
|Устанавливает месяцы для продолжительности.
|0

|seconds
|Устанавливает секунды для продолжительности.
|0

|weeks
|Устанавливает недели для продолжительности.
|0

|years
|Устанавливает годы для продолжительности.
|0
|===

[[data-providers-element]]
=== dataProviders

`dataProviders` - это групповой элемент, содержащий определения поставщиков данных, используемых компонентом.

[cols="1h,6",grid=none]
|===
|XML-элемент
|`dataProviders`

|Элементы
|<<containerDataProvider, containerDataProvider>> -
<<container-data-provider-element, callbackDataProvider>>
|===

[[container-data-provider-element]]
==== containerDataProvider

`containerDataProvider` - это поставщик данных, который связывается с контейнерами данных. Он содержит атрибуты для сопоставления свойств сущности событию в календаре.

[cols="1h,6",grid=none]
|===
|XML-элемент
|`containerDataProvider`

|Элементы
|-
|===

.Атрибуты
[cols="1h,5,1",grid=rows,caption=]
|===
|*Название*
|*Описание*
|*Значение по умолчанию*

|id
|Идентификатор поставщика данных.
|-

|dataContainer
|Идентификатор контейнера данных, который определен в том же экране. Атрибут обязателен.
|-

|additionalProperties
|Дополнительные свойства из сущности. Свойства должны быть разделены запятой или пробелом.

Смотрите <<additionalProperties, additionalProperties>> события календаря.
|-

|allDay
|Свойство `allDay` в сущности.

Смотрите <<allDay, allDay>> события календаря.
|-

|backgroundColor
|Свойство `backgroundColor` в сущности.

Смотрите <<backgroundColor, backgroundColor>> события календаря.
|-

|borderColor
|Свойство `borderColor` в сущности.

Смотрите <<borderColor, borderColor>> события календаря.
|-

|classNames
|Свойство `classNames` в сущности. Обратите внимание, что сущность должна содержать строковое значение с именами классов, разделенными пробелом.

Смотрите <<classNames, classNames>> события календаря.
|-

|constraint
|Свойство `constraint` в сущности.

Смотрите <<constraint, constraint>> события календаря.
|-

|description
|Свойство `description` в сущности.

Смотрите <<description, description>> события календаря.
|-

|display
|Свойство `display` в сущности.

Смотрите <<display, display>> события календаря.
|-

|durationEditable
|Свойство `durationEditable` в сущности.

Смотрите <<durationEditable, durationEditable>> события календаря.
|-

|endDateTime
|Свойство `endDateTime` в сущности.

Смотрите <<endDateTime, endDateTime>> события календаря.
|-

|groupId
|Свойство `groupId` в сущности.

Смотрите <<groupId, groupId>> события календаря.
|-

|interactive
|Свойство `interactive` в сущности.

Смотрите <<interactive, interactive>> события календаря.
|-

|overlap
|Свойство `overlap` в сущности.

Смотрите <<overlap, overlap>> события календаря.
|-

|recurringDaysOfWeek
|Свойство `recurringDaysOfWeek` в сущности.

Смотрите <<recurringDaysOfWeek, recurringDaysOfWeek>> события календаря.
|-

|recurringEndDate
|Свойство `recurringEndDate` в сущности.

Смотрите <<recurringEndDate, recurringEndDate>> события календаря.
|-

|recurringEndTime
|Свойство `recurringEndTime` в сущности.

Смотрите <<recurringEndTime, recurringEndTime>> события календаря.
|-

|recurringStartDate
|Свойство `recurringStartDate` в сущности.

Смотрите <<recurringStartDate, recurringStartDate>> события календаря.
|-

|recurringStartTime
|Свойство `recurringStartTime` в сущности.

Смотрите <<recurringStartTime, recurringStartTime>> события календаря.
|-

|startDateTime
|Свойство `startDateTime` в сущности.

Смотрите <<startDateTime, startDateTime>> события календаря.
|-

|startEditable
|Свойство `startEditable` в сущности.

Смотрите <<startEditable, startEditable>> события календаря.
|-

|textColor
|Свойство `textColor` в сущности.

Смотрите <<textColor, textColor>> события календаря.
|-

|title
|Свойство `title` в сущности.

Смотрите <<title, title>> события календаря.
|-
|===

[[callback-data-provider-element]]
==== callbackDataProvider

`callbackDataProvider` - это поставщик данных, который загружает сущности с помощью запроса JPQL или делегата загрузки. Он содержит атрибуты для сопоставления свойств сущности событию в календаре.

[cols="1h,6",grid=none]
|===
|XML-элемент
|`callbackDataProvider`

|Элементы
|<<items-query-element, itemsQuery>>
|===

.Атрибуты
[cols="1h,5,1",grid=rows,caption=]
|===
|*Название*
|*Описание*
|*Значение по умолчанию*

|id
|Идентификатор поставщика данных.
|-

|additionalProperties
|Дополнительные свойства из сущности. Свойства должны быть разделены запятой или пробелом.

Смотрите <<additionalProperties, additionalProperties>> события календаря.
|-

|allDay
|Свойство `allDay` в сущности.

Смотрите <<allDay, allDay>> события календаря.
|-

|backgroundColor
|Свойство `backgroundColor` в сущности.

Смотрите <<backgroundColor, backgroundColor>> события календаря.
|-

|borderColor
|Свойство `borderColor` в сущности.

Смотрите <<borderColor, borderColor>> события календаря.
|-

|classNames
|Свойство `classNames` в сущности. Обратите внимание, что сущность должна содержать строковое значение с именами классов, разделенными пробелом.

Смотрите <<classNames, classNames>> события календаря.
|-

|constraint
|Свойство `constraint` в сущности.

Смотрите <<constraint, constraint>> события календаря.
|-

|description
|Свойство `description` в сущности.

Смотрите <<description, description>> события календаря.
|-

|display
|Свойство `display` в сущности.

Смотрите <<display, display>> события календаря.
|-

|durationEditable
|Свойство `durationEditable` в сущности.

Смотрите <<durationEditable, durationEditable>> события календаря.
|-

|endDateTime
|Свойство `endDateTime` в сущности.

Смотрите <<endDateTime, endDateTime>> события календаря.
|-

|groupId
|Свойство `groupId` в сущности.

Смотрите <<groupId, groupId>> события календаря.
|-

|interactive
|Свойство `interactive` в сущности.

Смотрите <<interactive, interactive>> события календаря.
|-

|overlap
|Свойство `overlap` в сущности.

Смотрите <<overlap, overlap>> события календаря.
|-

|recurringDaysOfWeek
|Свойство `recurringDaysOfWeek` в сущности.

Смотрите <<recurringDaysOfWeek, recurringDaysOfWeek>> события календаря.
|-

|recurringEndDate
|Свойство `recurringEndDate` в сущности.

Смотрите <<recurringEndDate, recurringEndDate>> события календаря.
|-

|recurringEndTime
|Свойство `recurringEndTime` в сущности.

Смотрите <<recurringEndTime, recurringEndTime>> события календаря.
|-

|recurringStartDate
|Свойство `recurringStartDate` в сущности.

Смотрите <<recurringStartDate, recurringStartDate>> события календаря.
|-

|recurringStartTime
|Свойство `recurringStartTime` в сущности.

Смотрите <<recurringStartTime, recurringStartTime>> события календаря.
|-

|startDateTime
|Свойство `startDateTime` в сущности.

Смотрите <<startDateTime, startDateTime>> события календаря.
|-

|startEditable
|Свойство `startEditable` в сущности.

Смотрите <<startEditable, startEditable>> события календаря.
|-

|textColor
|Свойство `textColor` в сущности.

Смотрите <<textColor, textColor>> события календаря.
|-

|title
|Свойство `title` в сущности.

Смотрите <<title, title>> события календаря.
|-
|===

.Обработчики
[cols="1h,6", grid=rows, caption=]
|===
|*Название*
|*Описание*
|[[LoadDelegate]]LoadDelegate
|Задает делегата загрузки, который будет использоваться для загрузки событий.
|===

[[items-query-element]]
==== itemsQuery
Элемент `itemsQuery` описывает запрос JPQL для загрузки сущностей.

[cols="1h,6",grid=none]
|===
|XML-элемент
|`itemsQuery`

|Элементы
|-
|===

.Атрибуты
[cols="1h,5,1",grid=rows,caption=]
|===
|*Название*
|*Описание*
|*Значение по умолчанию*

|class
|Полностью определенное имя класса сущности.
|-

|fetchPlan
|План выборки, который должен использоваться для загрузки графа сущностей.
|-

|query
|Запрос JPQL.
|-

|===

[[display-mode-properties-element]]
=== displayModeProperties

`displayModeProperties` - это групповой элемент, содержащий все предопределенные элементы режима отображения для настройки их свойств.

[cols="1h,6",grid=none]
|===

|XML-элемент
|`displayModeProperties`

|Элементы
|<<day-grid-day-element, dayGridDay>> -
<<day-grid-week-element, dayGridWeek>> -
<<day-grid-month-element, dayGridMonth>> -
<<day-grid-year-element, dayGridYear>> -
<<time-grid-day-element, timeGridDay>> -
<<time-grid-week-element, timeGridWeek>> -
<<list-day-element, listDay>> -
<<list-week-element, listWeek>> -
<<list-month-element, listMonth>> -
<<list-year-element, listYear>> -
<<multi-month-year-element, multiMonthYear>> -
|===

[[day-grid-day-element]]
==== dayGridDay

Свойства режима отображения <<dayGridDay, dayGridDay>>.

[cols="1h,6",grid=none]
|===
|XML-элемент
|`dayGridDay`

|Элементы
|<<properties, properties>>
|===

.Атрибуты
[cols="1h,5,1",grid=rows,caption=]
|===
|*Название*
|*Описание*
|*Значение по умолчанию*

|dayHeaderFormat
|Задает формат заголовка дня специально для этого режима отображения. Правила форматирования такие же, как и для <<defaultDayHeaderFormat, defaultDayHeaderFormat>>.
|-

|dayPopoverFormat
|Задает формат всплывающей подсказки специально для этого режима отображения. Правила форматирования такие же, как и для <<defaultDayPopoverFormat, defaultDayPopoverFormat>>.
|-

|displayEventEnd
|Определяет видимость времени окончания события.
|`true`

|eventTimeFormat
|Задает формат времени события специально для этого режима отображения. Правила форматирования такие же, как и для <<defaultEventTimeFormat, defaultEventTimeFormat>>.
|-

|weekNumberFormat
|Задает формат недели специально для этого режима отображения. Правила форматирования такие же, как и для <<defaultWeekNumberFormat, defaultWeekNumberFormat>>.
|-
|===

[[day-grid-week-element]]
==== dayGridWeek

Свойства режима отображения <<dayGridWeek, dayGridWeek>>.

[cols="1h,6",grid=none]
|===
|XML-элемент
|`dayGridWeek`

|Элементы
|<<properties, properties>>
|===

.Атрибуты
[cols="1h,5,1",grid=rows,caption=]
|===
|*Название*
|*Описание*
|*Значение по умолчанию*

|dayHeaderFormat
|Задает формат заголовка дня специально для этого режима отображения. Правила форматирования такие же, как и для <<defaultDayHeaderFormat, defaultDayHeaderFormat>>.
|-

|dayPopoverFormat
|Задает формат всплывающей подсказки специально для этого режима отображения. Правила форматирования такие же, как и для <<defaultDayPopoverFormat, defaultDayPopoverFormat>>.
|-

|displayEventEnd
|Определяет видимость времени окончания события.
|`false`

|eventTimeFormat
|Задает формат времени события специально для этого режима отображения. Правила форматирования такие же, как и для <<defaultEventTimeFormat, defaultEventTimeFormat>>.
|-

|weekNumberFormat
|Задает формат недели специально для этого режима отображения. Правила форматирования такие же, как и для <<defaultWeekNumberFormat, defaultWeekNumberFormat>>.
|-
|===

[[day-grid-month-element]]
==== dayGridMonth

Свойства режима отображения <<dayGridMonth, dayGridMonth>>.

[cols="1h,6",grid=none]
|===
|XML-элемент
|`dayGridMonth`

|Элементы
|<<properties, properties>>
|===

.Атрибуты
[cols="1h,5,1",grid=rows,caption=]
|===
|*Название*
|*Описание*
|*Значение по умолчанию*

|dayHeaderFormat
|Задает формат заголовка дня специально для этого режима отображения. Правила форматирования такие же, как и для <<defaultDayHeaderFormat, defaultDayHeaderFormat>>.
|-

|dayPopoverFormat
|Задает формат всплывающей подсказки специально для этого режима отображения. Правила форматирования такие же, как и для <<defaultDayPopoverFormat, defaultDayPopoverFormat>>.
|-

|displayEventEnd
|Определяет видимость времени окончания события.
|`false`

|eventTimeFormat
|Задает формат времени события специально для этого режима отображения. Правила форматирования такие же, как и для <<defaultEventTimeFormat, defaultEventTimeFormat>>.
|-

|fixedWeekCount
|Определяет количество отображаемых недель. Если `true`, календарь всегда будет высотой в 6 недель. Если false, в календаре будет 4, 5 или 6 недель в зависимости от месяца.
|`true`

|showNonCurrentDates
|Определяет отображение дат из предыдущего и следующего месяцев.
|`true`

|weekNumberFormat
|Задает формат недели специально для этого режима отображения. Правила форматирования такие же, как и для <<defaultWeekNumberFormat, defaultWeekNumberFormat>>.
|-
|===

[[day-grid-year-element]]
==== dayGridYear

Свойства режима отображения <<dayGridYear, dayGridYear>>.

[cols="1h,6",grid=none]
|===
|XML-элемент
|`dayGridYear`

|Элементы
|<<properties, properties>>
|===

.Атрибуты
[cols="1h,5,1",grid=rows,caption=]
|===
|*Название*
|*Описание*
|*Значение по умолчанию*

|dayHeaderFormat
|Задает формат заголовка дня специально для этого режима отображения. Правила форматирования такие же, как и для <<defaultDayHeaderFormat, defaultDayHeaderFormat>>.
|-

|dayPopoverFormat
|Задает формат всплывающей подсказки специально для этого режима отображения. Правила форматирования такие же, как и для <<defaultDayPopoverFormat, defaultDayPopoverFormat>>.
|-

|displayEventEnd
|Определяет видимость времени окончания события.
|`false`

|eventTimeFormat
|Задает формат времени события специально для этого режима отображения. Правила форматирования такие же, как и для <<defaultEventTimeFormat, defaultEventTimeFormat>>.
|-

|monthStartFormat
|Задает формат текстового формата для первой ячейки каждого месяца. По умолчанию компонент устанавливает локализованный формат из сообщений при создании.

Поскольку компонент использует плагин https://fullcalendar.io/docs/moment-plugin[moment] для FullCalendar, мы должны следовать правилам форматирования moment.js: https://momentjs.com/docs/#/displaying/format/[Документация Moment.js^]. Например, «MMMM» дает сентябрь (ноябрь, декабрь и т. д.).
|-

|weekNumberFormat
|Задает формат недели специально для этого режима отображения. Правила форматирования такие же, как и для <<defaultWeekNumberFormat, defaultWeekNumberFormat>>.
|-
|===

[[time-grid-day-element]]
==== timeGridDay

Свойства режима отображения <<timeGridDay, timeGridDay>>.

[cols="1h,6",grid=none]
|===
|XML-элемент
|`timeGridDay`

|Элементы
|<<properties, properties>>
|===

.Атрибуты
[cols="1h,5,1",grid=rows,caption=]
|===
|*Название*
|*Описание*
|*Значение по умолчанию*

|allDaySlotVisible
|Определяет, отображаются ли ячейки на весь день в верхней части календаря.
|`true`

|dayHeaderFormat
|Задает формат заголовка дня специально для этого режима отображения. Правила форматирования такие же, как и для <<defaultDayHeaderFormat, defaultDayHeaderFormat>>.
|-

|dayPopoverFormat
|Задает формат всплывающей подсказки специально для этого режима отображения. Правила форматирования такие же, как и для <<defaultDayPopoverFormat, defaultDayPopoverFormat>>.
|-

|displayEventEnd
|Определяет видимость времени окончания события.
|`true`

|eventMinHeight
|Устанавливает минимальную высоту, которую может иметь событие.
|`15`

|eventShortHeight
|Устанавливает пороговое значение высоты для события со стилем «короткий».
|-

|eventTimeFormat
|Задает формат времени события специально для этого режима отображения. Правила форматирования такие же, как и для <<defaultEventTimeFormat, defaultEventTimeFormat>>.
|-

|slotEventOverlap
|Определяет, должны ли события с отметками времени визуально перекрывать друг друга.
|`true`

|slotLabelFormat
|Задает формат меток слотов специально для этого режима отображения. Правила форматирования такие же, как и для <<defaultSlotLabelFormat, defaultSlotLabelFormat>>.
|-

|weekNumberFormat
|Задает формат недели специально для этого режима отображения. Правила форматирования такие же, как и для <<defaultWeekNumberFormat, defaultWeekNumberFormat>>.
|-
|===

[[time-grid-week-element]]
==== timeGridWeek

Свойства режима отображения <<timeGridWeek, timeGridWeek>>.

[cols="1h,6",grid=none]
|===
|XML-элемент
|`timeGridWeek`

|Элементы
|<<properties, properties>>
|===

.Атрибуты
[cols="1h,5,1",grid=rows,caption=]
|===
|*Название*
|*Описание*
|*Значение по умолчанию*

|allDaySlotVisible
|Определяет, отображаются ли ячейки на весь день в верхней части календаря.
|`true`

|dayHeaderFormat
|Задает формат заголовка дня специально для этого режима отображения. Правила форматирования такие же, как и для <<defaultDayHeaderFormat, defaultDayHeaderFormat>>.
|-

|dayPopoverFormat
|Задает формат всплывающей подсказки специально для этого режима отображения. Правила форматирования такие же, как и для <<defaultDayPopoverFormat, defaultDayPopoverFormat>>.
|-

|displayEventEnd
|Определяет видимость времени окончания события.
|`true`

|eventMinHeight
|Устанавливает минимальную высоту, которую может иметь событие.
|`15`

|eventShortHeight
|Устанавливает пороговое значение высоты для события со стилем «короткий».
|-

|eventTimeFormat
|Задает формат времени события специально для этого режима отображения. Правила форматирования такие же, как и для <<defaultEventTimeFormat, defaultEventTimeFormat>>.
|-

|slotEventOverlap
|Определяет, должны ли события с отметками времени визуально перекрывать друг друга.
|`true`

|slotLabelFormat
|Задает формат меток слотов специально для этого режима отображения. Правила форматирования такие же, как и для <<defaultSlotLabelFormat, defaultSlotLabelFormat>>.
|-

|weekNumberFormat
|Задает формат недели специально для этого режима отображения. Правила форматирования такие же, как и для <<defaultWeekNumberFormat, defaultWeekNumberFormat>>.
|-
|===

[[list-day-element]]
==== listDay

Свойства режима отображения <<listDay, listDay>>.

[cols="1h,6",grid=none]
|===
|XML-элемент
|`listDay`

|Элементы
|<<properties, properties>>
|===

.Атрибуты
[cols="1h,5,1",grid=rows,caption=]
|===
|*Название*
|*Описание*
|*Значение по умолчанию*

|listDayFormat
|Задает формат текста в левой части заголовков дня. По умолчанию компонент устанавливает локализованный формат из сообщений при создании.

Поскольку компонент использует плагин https://fullcalendar.io/docs/moment-plugin[moment^] для FullCalendar, мы должны следовать правилам форматирования moment.js: https://momentjs.com/docs/#/displaying/format/[Документация Moment.js^]. Например, «dd» дает пн (понедельник).
|-

|listDaySideFormat
|Задает формат текста в правой части заголовков дня. По умолчанию компонент устанавливает локализованный формат из сообщений при создании.

Поскольку компонент использует плагин https://fullcalendar.io/docs/moment-plugin[moment^] для FullCalendar, мы должны следовать правилам форматирования moment.js: https://momentjs.com/docs/#/displaying/format/[Документация Moment.js^]. Например, «dd» дает пн (понедельник).
|-

|listDaySideVisible
|Задает видимость текста в правой части заголовков дня.
|`true`

|listDayVisible
|Задает видимость текста в левой части заголовков дня.
|`true`
|===

[[list-week-element]]
==== listWeek

Свойства режима отображения <<listWeek, listWeek>>.

[cols="1h,6",grid=none]
|===
|XML-элемент
|`listWeek`

|Элементы
|<<properties, properties>>
|===

.Атрибуты
[cols="1h,5,1",grid=rows,caption=]
|===
|*Название*
|*Описание*
|*Значение по умолчанию*

|listDayFormat
|Задает формат текста в левой части заголовков дня. По умолчанию компонент устанавливает локализованный формат из сообщений при создании.

Поскольку компонент использует плагин https://fullcalendar.io/docs/moment-plugin[moment^] для FullCalendar, мы должны следовать правилам форматирования moment.js: https://momentjs.com/docs/#/displaying/format/[Документация Moment.js^]. Например, «dd» дает пн (понедельник).
|-

|listDaySideFormat
|Задает формат текста в правой части заголовков дня. По умолчанию компонент устанавливает локализованный формат из сообщений при создании.

Поскольку компонент использует плагин https://fullcalendar.io/docs/moment-plugin[moment^] для FullCalendar, мы должны следовать правилам форматирования moment.js: https://momentjs.com/docs/#/displaying/format/[Документация Moment.js^]. Например, «dd» дает пн (понедельник).
|-

|listDaySideVisible
|Задает видимость текста в правой части заголовков дня.
|`true`

|listDayVisible
|Задает видимость текста в левой части заголовков дня.
|`true`
|===

[[list-month-element]]
==== listMonth

Свойства режима отображения <<listMonth, listMonth>>.

[cols="1h,6",grid=none]
|===
|XML-элемент
|`listMonth`

|Элементы
|<<properties, properties>>
|===

.Атрибуты
[cols="1h,5,1",grid=rows,caption=]
|===
|*Название*
|*Описание*
|*Значение по умолчанию*

|listDayFormat
|Задает формат текста в левой части заголовков дня. По умолчанию компонент устанавливает локализованный формат из сообщений при создании.

Поскольку компонент использует плагин https://fullcalendar.io/docs/moment-plugin[moment^] для FullCalendar, мы должны следовать правилам форматирования moment.js: https://momentjs.com/docs/#/displaying/format/[Документация Moment.js^]. Например, «dd» дает пн (понедельник).
|-

|listDaySideFormat
|Задает формат текста в правой части заголовков дня. По умолчанию компонент устанавливает локализованный формат из сообщений при создании.

Поскольку компонент использует плагин https://fullcalendar.io/docs/moment-plugin[moment^] для FullCalendar, мы должны следовать правилам форматирования moment.js: https://momentjs.com/docs/#/displaying/format/[Документация Moment.js^]. Например, «dd» дает пн (понедельник).
|-

|listDaySideVisible
|Задает видимость текста в правой части заголовков дня.
|`true`

|listDayVisible
|Задает видимость текста в левой части заголовков дня.
|`true`
|===

[[list-year-element]]
==== listYear

Свойства режима отображения <<listYear, listYear>>.

[cols="1h,6",grid=none]
|===
|XML-элемент
|`listYear`

|Элементы
|<<properties, properties>>
|===

.Атрибуты
[cols="1h,5,1",grid=rows,caption=]
|===
|*Название*
|*Описание*
|*Значение по умолчанию*

|listDayFormat
|Задает формат текста в левой части заголовков дня. По умолчанию компонент устанавливает локализованный формат из сообщений при создании.

Поскольку компонент использует плагин https://fullcalendar.io/docs/moment-plugin[moment^] для FullCalendar, мы должны следовать правилам форматирования moment.js: https://momentjs.com/docs/#/displaying/format/[Документация Moment.js^]. Например, «dd» дает пн (понедельник).
|-

|listDaySideFormat
|Задает формат текста в правой части заголовков дня. По умолчанию компонент устанавливает локализованный формат из сообщений при создании.

Поскольку компонент использует плагин https://fullcalendar.io/docs/moment-plugin[moment^] для FullCalendar, мы должны следовать правилам форматирования moment.js: https://momentjs.com/docs/#/displaying/format/[Документация Moment.js^]. Например, «dd» дает пн (понедельник).
|-

|listDaySideVisible
|Задает видимость текста в правой части заголовков дня.
|`true`

|listDayVisible
|Задает видимость текста в левой части заголовков дня.
|`true`
|===

[[multi-month-year-element]]
==== multiMonthYear

Свойства режима отображения <<multiMonthYear, multiMonthYear>>.

[cols="1h,6",grid=none]
|===
|XML-элемент
|`multiMonthYear`

|Элементы
|<<properties, properties>>
|===

.Атрибуты
[cols="1h,5,1",grid=rows,caption=]
|===
|*Название*
|*Описание*
|*Значение по умолчанию*

|fixedWeekCount
|Определяет количество отображаемых недель. Если `true`, календарь всегда будет высотой в 6 недель. Если `false`, в календаре будет 4, 5 или 6 недель в зависимости от месяца.
|`true`

|multiMonthMaxColumns
|Задает максимальное количество столбцов месяцев, которые режим отображения попытается отобразить.

По умолчанию режим отображения попытается отобразить 3 столбца мини-месяцев. Если места недостаточно, что потребует уменьшения размера каждого месяца до значения меньше `multiMonthMinWidth`, будет отображено меньшее количество столбцов.
|`3`

|multiMonthMinWidth
|Задает минимальную ширину каждого мини-месяца. Компонент не позволит мини-месяцу стать меньше этого значения.

Если доступная ширина требует, чтобы каждый мини-месяц стал меньше этого значения в пикселях, мини-месяцы будут переноситься на последующие строки.
|`350`

|multiMonthTitleFormat
|Задает формат текста над каждым месяцем. По умолчанию компонент устанавливает локализованный формат из сообщений при создании.

Поскольку компонент использует плагин https://fullcalendar.io/docs/moment-plugin[moment^] для `FullCalendar`, следует придерживаться правил форматирования moment.js: https://momentjs.com/docs/#/displaying/format/[Документация Moment.js^]. Например, `"MMM"` дает `Сен (Ноя, …)`.
|

|showNonCurrentDates
|Определяет отображение дат из предыдущих и последующих месяцев.
|`true`
|===

[[hidden-days-element]]
=== hiddenDays

`hiddenDays` - это групповой элемент, содержащий дни недели, которые должны быть скрыты в компоненте `FullCalendar`.

[cols="1h,6",grid=none]
|===
|XML-элемент
|`hiddenDays`

|Элементы
|<<day-element, day>>
|===

[[properties]]
=== properties

Групповой элемент для свойств `FullCalendar.js`.

[cols="1h,6",grid=none]
|===
|XML-элемент
|`properties`

|Элементы
|<<property, property>>
|===

[[property]]
==== property

Определение свойства `FullCalendar.js`.

[cols="1h,6",grid=none]
|===
|XML-элемент
|`property`

|Элементы
|-
|===

.Атрибуты
[cols="1h,5,1",grid=rows,caption=]
|===
|*Название*
|*Описание*
|*Значение по умолчанию*

|name
|Название свойства.
|-

|value
|Значение свойства.
|-
|===

[[day-element]]
=== day

Элемент `day` представляет день недели.

[cols="1h,6",grid=none]
|===
|XML-элемент
|`day`

|Элементы
|-
|===

.Атрибуты
[cols="1h,5,1",grid=rows,caption=]
|===
|*Название*
|*Описание*
|*Значение по умолчанию*

|name
|Название дня недели, например, `ПОНЕДЕЛЬНИК`, `ВТОРНИК` и другие дни.
|-
|===

== Смотрите также

Смотрите https://fullcalendar.io/docs[Документацию FullCalendar^] для получения дополнительной информации.